/**
 * MIT License
 *
 * Copyright (c) 2019 GumGum
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).GgEzVp=t()}(this,(function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)}))}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e,t){return d(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||h(e,t)||v()}function l(e){return function(e){if(Array.isArray(e))return p(e)}(e)||f(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){if(Array.isArray(e))return e}function f(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var m="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function g(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var y=function(e){return e&&e.Math==Math&&e},A=y("object"==typeof globalThis&&globalThis)||y("object"==typeof window&&window)||y("object"==typeof self&&self)||y("object"==typeof m&&m)||Function("return this")(),T=function(e){try{return!!e()}catch(e){return!0}},b=!T((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),k={}.propertyIsEnumerable,E=Object.getOwnPropertyDescriptor,w={f:E&&!k.call({1:2},1)?function(e){var t=E(this,e);return!!t&&t.enumerable}:k},S=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},R={}.toString,C=function(e){return R.call(e).slice(8,-1)},x="".split,L=T((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==C(e)?x.call(e,""):Object(e)}:Object,_=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},O=function(e){return L(_(e))},N=function(e){return"object"==typeof e?null!==e:"function"==typeof e},I=function(e,t){if(!N(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!N(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!N(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!N(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},P={}.hasOwnProperty,V=function(e,t){return P.call(e,t)},U=A.document,D=N(U)&&N(U.createElement),j=function(e){return D?U.createElement(e):{}},F=!b&&!T((function(){return 7!=Object.defineProperty(j("div"),"a",{get:function(){return 7}}).a})),M=Object.getOwnPropertyDescriptor,B={f:b?M:function(e,t){if(e=O(e),t=I(t,!0),F)try{return M(e,t)}catch(e){}if(V(e,t))return S(!w.f.call(e,t),e[t])}},W=function(e){if(!N(e))throw TypeError(String(e)+" is not an object");return e},z=Object.defineProperty,q={f:b?z:function(e,t,n){if(W(e),t=I(t,!0),W(n),F)try{return z(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},H=b?function(e,t,n){return q.f(e,t,S(1,n))}:function(e,t,n){return e[t]=n,e},G=function(e,t){try{H(A,e,t)}catch(n){A[e]=t}return t},Y="__core-js_shared__",Q=A[Y]||G(Y,{}),X=Function.toString;"function"!=typeof Q.inspectSource&&(Q.inspectSource=function(e){return X.call(e)});var $,K,J,Z=Q.inspectSource,ee=A.WeakMap,te="function"==typeof ee&&/native code/.test(Z(ee)),ne=g((function(e){(e.exports=function(e,t){return Q[e]||(Q[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),re=0,ie=Math.random(),oe=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++re+ie).toString(36)},ae=ne("keys"),se=function(e){return ae[e]||(ae[e]=oe(e))},ce={},ue=A.WeakMap;if(te){var le=new ue,de=le.get,fe=le.has,he=le.set;$=function(e,t){return he.call(le,e,t),t},K=function(e){return de.call(le,e)||{}},J=function(e){return fe.call(le,e)}}else{var pe=se("state");ce[pe]=!0,$=function(e,t){return H(e,pe,t),t},K=function(e){return V(e,pe)?e[pe]:{}},J=function(e){return V(e,pe)}}var ve,me={set:$,get:K,has:J,enforce:function(e){return J(e)?K(e):$(e,{})},getterFor:function(e){return function(t){var n;if(!N(t)||(n=K(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},ge=g((function(e){var t=me.get,n=me.enforce,r=String(String).split("String");(e.exports=function(e,t,i,o){var a=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable,c=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof t||V(i,"name")||H(i,"name",t),n(i).source=r.join("string"==typeof t?t:"")),e!==A?(a?!c&&e[t]&&(s=!0):delete e[t],s?e[t]=i:H(e,t,i)):s?e[t]=i:G(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||Z(this)}))})),ye=A,Ae=function(e){return"function"==typeof e?e:void 0},Te=function(e,t){return arguments.length<2?Ae(ye[e])||Ae(A[e]):ye[e]&&ye[e][t]||A[e]&&A[e][t]},be=Math.ceil,ke=Math.floor,Ee=function(e){return isNaN(e=+e)?0:(e>0?ke:be)(e)},we=Math.min,Se=function(e){return e>0?we(Ee(e),9007199254740991):0},Re=Math.max,Ce=Math.min,xe=function(e,t){var n=Ee(e);return n<0?Re(n+t,0):Ce(n,t)},Le=function(e){return function(t,n,r){var i,o=O(t),a=Se(o.length),s=xe(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},_e={includes:Le(!0),indexOf:Le(!1)},Oe=_e.indexOf,Ne=function(e,t){var n,r=O(e),i=0,o=[];for(n in r)!V(ce,n)&&V(r,n)&&o.push(n);for(;t.length>i;)V(r,n=t[i++])&&(~Oe(o,n)||o.push(n));return o},Ie=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Pe=Ie.concat("length","prototype"),Ve={f:Object.getOwnPropertyNames||function(e){return Ne(e,Pe)}},Ue={f:Object.getOwnPropertySymbols},De=Te("Reflect","ownKeys")||function(e){var t=Ve.f(W(e)),n=Ue.f;return n?t.concat(n(e)):t},je=function(e,t){for(var n=De(t),r=q.f,i=B.f,o=0;o<n.length;o++){var a=n[o];V(e,a)||r(e,a,i(t,a))}},Fe=/#|\.prototype\./,Me=function(e,t){var n=We[Be(e)];return n==qe||n!=ze&&("function"==typeof t?T(t):!!t)},Be=Me.normalize=function(e){return String(e).replace(Fe,".").toLowerCase()},We=Me.data={},ze=Me.NATIVE="N",qe=Me.POLYFILL="P",He=Me,Ge=B.f,Ye=function(e,t){var n,r,i,o,a,s=e.target,c=e.global,u=e.stat;if(n=c?A:u?A[s]||G(s,{}):(A[s]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(a=Ge(n,r))&&a.value:n[r],!He(c?r:s+(u?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;je(o,i)}(e.sham||i&&i.sham)&&H(o,"sham",!0),ge(n,r,o,e)}},Qe=!!Object.getOwnPropertySymbols&&!T((function(){return!String(Symbol())})),Xe=Qe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,$e=Array.isArray||function(e){return"Array"==C(e)},Ke=function(e){return Object(_(e))},Je=Object.keys||function(e){return Ne(e,Ie)},Ze=b?Object.defineProperties:function(e,t){W(e);for(var n,r=Je(t),i=r.length,o=0;i>o;)q.f(e,n=r[o++],t[n]);return e},et=Te("document","documentElement"),tt=se("IE_PROTO"),nt=function(){},rt=function(e){return"<script>"+e+"</"+"script>"},it=function(){try{ve=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;it=ve?function(e){e.write(rt("")),e.close();var t=e.parentWindow.Object;return e=null,t}(ve):((t=j("iframe")).style.display="none",et.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(rt("document.F=Object")),e.close(),e.F);for(var n=Ie.length;n--;)delete it.prototype[Ie[n]];return it()};ce[tt]=!0;var ot=Object.create||function(e,t){var n;return null!==e?(nt.prototype=W(e),n=new nt,nt.prototype=null,n[tt]=e):n=it(),void 0===t?n:Ze(n,t)},at=Ve.f,st={}.toString,ct="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ut={f:function(e){return ct&&"[object Window]"==st.call(e)?function(e){try{return at(e)}catch(e){return ct.slice()}}(e):at(O(e))}},lt=ne("wks"),dt=A.Symbol,ft=Xe?dt:dt&&dt.withoutSetter||oe,ht=function(e){return V(lt,e)||(Qe&&V(dt,e)?lt[e]=dt[e]:lt[e]=ft("Symbol."+e)),lt[e]},pt={f:ht},vt=q.f,mt=function(e){var t=ye.Symbol||(ye.Symbol={});V(t,e)||vt(t,e,{value:pt.f(e)})},gt=q.f,yt=ht("toStringTag"),At=function(e,t,n){e&&!V(e=n?e:e.prototype,yt)&&gt(e,yt,{configurable:!0,value:t})},Tt=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},bt=function(e,t,n){if(Tt(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},kt=ht("species"),Et=function(e,t){var n;return $e(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!$e(n.prototype)?N(n)&&null===(n=n[kt])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},wt=[].push,St=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=5==e||o;return function(s,c,u,l){for(var d,f,h=Ke(s),p=L(h),v=bt(c,u,3),m=Se(p.length),g=0,y=l||Et,A=t?y(s,m):n?y(s,0):void 0;m>g;g++)if((a||g in p)&&(f=v(d=p[g],g,h),e))if(t)A[g]=f;else if(f)switch(e){case 3:return!0;case 5:return d;case 6:return g;case 2:wt.call(A,d)}else if(i)return!1;return o?-1:r||i?i:A}},Rt={forEach:St(0),map:St(1),filter:St(2),some:St(3),every:St(4),find:St(5),findIndex:St(6)},Ct=Rt.forEach,xt=se("hidden"),Lt="Symbol",_t=ht("toPrimitive"),Ot=me.set,Nt=me.getterFor(Lt),It=Object.prototype,Pt=A.Symbol,Vt=Te("JSON","stringify"),Ut=B.f,Dt=q.f,jt=ut.f,Ft=w.f,Mt=ne("symbols"),Bt=ne("op-symbols"),Wt=ne("string-to-symbol-registry"),zt=ne("symbol-to-string-registry"),qt=ne("wks"),Ht=A.QObject,Gt=!Ht||!Ht.prototype||!Ht.prototype.findChild,Yt=b&&T((function(){return 7!=ot(Dt({},"a",{get:function(){return Dt(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Ut(It,t);r&&delete It[t],Dt(e,t,n),r&&e!==It&&Dt(It,t,r)}:Dt,Qt=function(e,t){var n=Mt[e]=ot(Pt.prototype);return Ot(n,{type:Lt,tag:e,description:t}),b||(n.description=t),n},Xt=Xe?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Pt},$t=function(e,t,n){e===It&&$t(Bt,t,n),W(e);var r=I(t,!0);return W(n),V(Mt,r)?(n.enumerable?(V(e,xt)&&e[xt][r]&&(e[xt][r]=!1),n=ot(n,{enumerable:S(0,!1)})):(V(e,xt)||Dt(e,xt,S(1,{})),e[xt][r]=!0),Yt(e,r,n)):Dt(e,r,n)},Kt=function(e,t){W(e);var n=O(t),r=Je(n).concat(tn(n));return Ct(r,(function(t){b&&!Jt.call(n,t)||$t(e,t,n[t])})),e},Jt=function(e){var t=I(e,!0),n=Ft.call(this,t);return!(this===It&&V(Mt,t)&&!V(Bt,t))&&(!(n||!V(this,t)||!V(Mt,t)||V(this,xt)&&this[xt][t])||n)},Zt=function(e,t){var n=O(e),r=I(t,!0);if(n!==It||!V(Mt,r)||V(Bt,r)){var i=Ut(n,r);return!i||!V(Mt,r)||V(n,xt)&&n[xt][r]||(i.enumerable=!0),i}},en=function(e){var t=jt(O(e)),n=[];return Ct(t,(function(e){V(Mt,e)||V(ce,e)||n.push(e)})),n},tn=function(e){var t=e===It,n=jt(t?Bt:O(e)),r=[];return Ct(n,(function(e){!V(Mt,e)||t&&!V(It,e)||r.push(Mt[e])})),r};if(Qe||(ge((Pt=function(){if(this instanceof Pt)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=oe(e),n=function(e){this===It&&n.call(Bt,e),V(this,xt)&&V(this[xt],t)&&(this[xt][t]=!1),Yt(this,t,S(1,e))};return b&&Gt&&Yt(It,t,{configurable:!0,set:n}),Qt(t,e)}).prototype,"toString",(function(){return Nt(this).tag})),ge(Pt,"withoutSetter",(function(e){return Qt(oe(e),e)})),w.f=Jt,q.f=$t,B.f=Zt,Ve.f=ut.f=en,Ue.f=tn,pt.f=function(e){return Qt(ht(e),e)},b&&(Dt(Pt.prototype,"description",{configurable:!0,get:function(){return Nt(this).description}}),ge(It,"propertyIsEnumerable",Jt,{unsafe:!0}))),Ye({global:!0,wrap:!0,forced:!Qe,sham:!Qe},{Symbol:Pt}),Ct(Je(qt),(function(e){mt(e)})),Ye({target:Lt,stat:!0,forced:!Qe},{for:function(e){var t=String(e);if(V(Wt,t))return Wt[t];var n=Pt(t);return Wt[t]=n,zt[n]=t,n},keyFor:function(e){if(!Xt(e))throw TypeError(e+" is not a symbol");if(V(zt,e))return zt[e]},useSetter:function(){Gt=!0},useSimple:function(){Gt=!1}}),Ye({target:"Object",stat:!0,forced:!Qe,sham:!b},{create:function(e,t){return void 0===t?ot(e):Kt(ot(e),t)},defineProperty:$t,defineProperties:Kt,getOwnPropertyDescriptor:Zt}),Ye({target:"Object",stat:!0,forced:!Qe},{getOwnPropertyNames:en,getOwnPropertySymbols:tn}),Ye({target:"Object",stat:!0,forced:T((function(){Ue.f(1)}))},{getOwnPropertySymbols:function(e){return Ue.f(Ke(e))}}),Vt){var nn=!Qe||T((function(){var e=Pt();return"[null]"!=Vt([e])||"{}"!=Vt({a:e})||"{}"!=Vt(Object(e))}));Ye({target:"JSON",stat:!0,forced:nn},{stringify:function(e,t,n){for(var r,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=t,(N(t)||void 0!==e)&&!Xt(e))return $e(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Xt(t))return t}),i[1]=t,Vt.apply(null,i)}})}Pt.prototype[_t]||H(Pt.prototype,_t,Pt.prototype.valueOf),At(Pt,Lt),ce[xt]=!0;var rn=q.f,on=A.Symbol;if(b&&"function"==typeof on&&(!("description"in on.prototype)||void 0!==on().description)){var an={},sn=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof sn?new on(e):void 0===e?on():on(e);return""===e&&(an[t]=!0),t};je(sn,on);var cn=sn.prototype=on.prototype;cn.constructor=sn;var un=cn.toString,ln="Symbol(test)"==String(on("test")),dn=/^Symbol\((.*)\)[^)]+$/;rn(cn,"description",{configurable:!0,get:function(){var e=N(this)?this.valueOf():this,t=un.call(e);if(V(an,e))return"";var n=ln?t.slice(7,-1):t.replace(dn,"$1");return""===n?void 0:n}}),Ye({global:!0,forced:!0},{Symbol:sn})}var fn={};fn[ht("toStringTag")]="z";var hn="[object z]"===String(fn),pn=ht("toStringTag"),vn="Arguments"==C(function(){return arguments}()),mn=hn?C:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),pn))?n:vn?C(t):"Object"==(r=C(t))&&"function"==typeof t.callee?"Arguments":r},gn=hn?{}.toString:function(){return"[object "+mn(this)+"]"};hn||ge(Object.prototype,"toString",gn,{unsafe:!0}),mt("iterator");var yn=ht("unscopables"),An=Array.prototype;null==An[yn]&&q.f(An,yn,{configurable:!0,value:ot(null)});var Tn,bn,kn,En=function(e){An[yn][e]=!0},wn={},Sn=!T((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Rn=se("IE_PROTO"),Cn=Object.prototype,xn=Sn?Object.getPrototypeOf:function(e){return e=Ke(e),V(e,Rn)?e[Rn]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Cn:null},Ln=ht("iterator"),_n=!1;[].keys&&("next"in(kn=[].keys())?(bn=xn(xn(kn)))!==Object.prototype&&(Tn=bn):_n=!0),null==Tn&&(Tn={}),V(Tn,Ln)||H(Tn,Ln,(function(){return this}));var On={IteratorPrototype:Tn,BUGGY_SAFARI_ITERATORS:_n},Nn=On.IteratorPrototype,In=function(){return this},Pn=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return W(n),function(e){if(!N(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),Vn=On.IteratorPrototype,Un=On.BUGGY_SAFARI_ITERATORS,Dn=ht("iterator"),jn="keys",Fn="values",Mn="entries",Bn=function(){return this},Wn=function(e,t,n,r,i,o,a){!function(e,t,n){var r=t+" Iterator";e.prototype=ot(Nn,{next:S(1,n)}),At(e,r,!1),wn[r]=In}(n,t,r);var s,c,u,l=function(e){if(e===i&&v)return v;if(!Un&&e in h)return h[e];switch(e){case jn:case Fn:case Mn:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",f=!1,h=e.prototype,p=h[Dn]||h["@@iterator"]||i&&h[i],v=!Un&&p||l(i),m="Array"==t&&h.entries||p;if(m&&(s=xn(m.call(new e)),Vn!==Object.prototype&&s.next&&(xn(s)!==Vn&&(Pn?Pn(s,Vn):"function"!=typeof s[Dn]&&H(s,Dn,Bn)),At(s,d,!0))),i==Fn&&p&&p.name!==Fn&&(f=!0,v=function(){return p.call(this)}),h[Dn]!==v&&H(h,Dn,v),wn[t]=v,i)if(c={values:l(Fn),keys:o?v:l(jn),entries:l(Mn)},a)for(u in c)(Un||f||!(u in h))&&ge(h,u,c[u]);else Ye({target:t,proto:!0,forced:Un||f},c);return c},zn="Array Iterator",qn=me.set,Hn=me.getterFor(zn),Gn=Wn(Array,"Array",(function(e,t){qn(this,{type:zn,target:O(e),index:0,kind:t})}),(function(){var e=Hn(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");wn.Arguments=wn.Array,En("keys"),En("values"),En("entries");var Yn=function(e){return function(t,n){var r,i,o=String(_(t)),a=Ee(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):r:e?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},Qn={codeAt:Yn(!1),charAt:Yn(!0)},Xn=Qn.charAt,$n="String Iterator",Kn=me.set,Jn=me.getterFor($n);Wn(String,"String",(function(e){Kn(this,{type:$n,string:String(e),index:0})}),(function(){var e,t=Jn(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=Xn(n,r),t.index+=e.length,{value:e,done:!1})}));var Zn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},er=ht("iterator"),tr=ht("toStringTag"),nr=Gn.values;for(var rr in Zn){var ir=A[rr],or=ir&&ir.prototype;if(or){if(or[er]!==nr)try{H(or,er,nr)}catch(e){or[er]=nr}if(or[tr]||H(or,tr,rr),Zn[rr])for(var ar in Gn)if(or[ar]!==Gn[ar])try{H(or,ar,Gn[ar])}catch(e){or[ar]=Gn[ar]}}}mt("asyncIterator"),mt("toStringTag"),At(A.JSON,"JSON",!0),At(Math,"Math",!0);var sr=T((function(){xn(1)}));Ye({target:"Object",stat:!0,forced:sr,sham:!Sn},{getPrototypeOf:function(e){return xn(Ke(e))}});var cr=q.f,ur=Function.prototype,lr=ur.toString,dr=/^\s*function ([^ (]*)/,fr="name";b&&!(fr in ur)&&cr(ur,fr,{configurable:!0,get:function(){try{return lr.call(this).match(dr)[1]}catch(e){return""}}}),Ye({target:"Object",stat:!0},{setPrototypeOf:Pn});var hr=A.Promise,pr=ht("species"),vr=function(e){var t=Te(e),n=q.f;b&&t&&!t[pr]&&n(t,pr,{configurable:!0,get:function(){return this}})},mr=ht("iterator"),gr=Array.prototype,yr=ht("iterator"),Ar=function(e,t,n,r){try{return r?t(W(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&W(i.call(e)),t}},Tr=g((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,r,i,o){var a,s,c,u,l,d,f,h,p=bt(n,r,i?2:1);if(o)a=e;else{if("function"!=typeof(s=function(e){if(null!=e)return e[yr]||e["@@iterator"]||wn[mn(e)]}(e)))throw TypeError("Target is not iterable");if(void 0!==(h=s)&&(wn.Array===h||gr[mr]===h)){for(c=0,u=Se(e.length);u>c;c++)if((l=i?p(W(f=e[c])[0],f[1]):p(e[c]))&&l instanceof t)return l;return new t(!1)}a=s.call(e)}for(d=a.next;!(f=d.call(a)).done;)if("object"==typeof(l=Ar(a,p,f.value,i))&&l&&l instanceof t)return l;return new t(!1)}).stop=function(e){return new t(!0,e)}})),br=ht("iterator"),kr=!1;try{var Er=0,wr={next:function(){return{done:!!Er++}},return:function(){kr=!0}};wr[br]=function(){return this},Array.from(wr,(function(){throw 2}))}catch(e){}var Sr,Rr,Cr,xr=ht("species"),Lr=function(e,t){var n,r=W(e).constructor;return void 0===r||null==(n=W(r)[xr])?t:Tt(n)},_r=Te("navigator","userAgent")||"",Or=/(iphone|ipod|ipad).*applewebkit/i.test(_r),Nr=A.location,Ir=A.setImmediate,Pr=A.clearImmediate,Vr=A.process,Ur=A.MessageChannel,Dr=A.Dispatch,jr=0,Fr={},Mr="onreadystatechange",Br=function(e){if(Fr.hasOwnProperty(e)){var t=Fr[e];delete Fr[e],t()}},Wr=function(e){return function(){Br(e)}},zr=function(e){Br(e.data)},qr=function(e){A.postMessage(e+"",Nr.protocol+"//"+Nr.host)};Ir&&Pr||(Ir=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return Fr[++jr]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},Sr(jr),jr},Pr=function(e){delete Fr[e]},"process"==C(Vr)?Sr=function(e){Vr.nextTick(Wr(e))}:Dr&&Dr.now?Sr=function(e){Dr.now(Wr(e))}:Ur&&!Or?(Cr=(Rr=new Ur).port2,Rr.port1.onmessage=zr,Sr=bt(Cr.postMessage,Cr,1)):!A.addEventListener||"function"!=typeof postMessage||A.importScripts||T(qr)||"file:"===Nr.protocol?Sr=Mr in j("script")?function(e){et.appendChild(j("script")).onreadystatechange=function(){et.removeChild(this),Br(e)}}:function(e){setTimeout(Wr(e),0)}:(Sr=qr,A.addEventListener("message",zr,!1)));var Hr,Gr,Yr,Qr,Xr,$r,Kr,Jr,Zr={set:Ir,clear:Pr},ei=B.f,ti=Zr.set,ni=A.MutationObserver||A.WebKitMutationObserver,ri=A.process,ii=A.Promise,oi="process"==C(ri),ai=ei(A,"queueMicrotask"),si=ai&&ai.value;si||(Hr=function(){var e,t;for(oi&&(e=ri.domain)&&e.exit();Gr;){t=Gr.fn,Gr=Gr.next;try{t()}catch(e){throw Gr?Qr():Yr=void 0,e}}Yr=void 0,e&&e.enter()},oi?Qr=function(){ri.nextTick(Hr)}:ni&&!Or?(Xr=!0,$r=document.createTextNode(""),new ni(Hr).observe($r,{characterData:!0}),Qr=function(){$r.data=Xr=!Xr}):ii&&ii.resolve?(Kr=ii.resolve(void 0),Jr=Kr.then,Qr=function(){Jr.call(Kr,Hr)}):Qr=function(){ti.call(A,Hr)});var ci,ui,li=si||function(e){var t={fn:e,next:void 0};Yr&&(Yr.next=t),Gr||(Gr=t,Qr()),Yr=t},di=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=Tt(t),this.reject=Tt(n)},fi={f:function(e){return new di(e)}},hi=function(e,t){if(W(e),N(t)&&t.constructor===e)return t;var n=fi.f(e);return(0,n.resolve)(t),n.promise},pi=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},vi=A.process,mi=vi&&vi.versions,gi=mi&&mi.v8;gi?ui=(ci=gi.split("."))[0]+ci[1]:_r&&(!(ci=_r.match(/Edge\/(\d+)/))||ci[1]>=74)&&(ci=_r.match(/Chrome\/(\d+)/))&&(ui=ci[1]);var yi,Ai,Ti,bi,ki=ui&&+ui,Ei=Zr.set,wi=ht("species"),Si="Promise",Ri=me.get,Ci=me.set,xi=me.getterFor(Si),Li=hr,_i=A.TypeError,Oi=A.document,Ni=A.process,Ii=Te("fetch"),Pi=fi.f,Vi=Pi,Ui="process"==C(Ni),Di=!!(Oi&&Oi.createEvent&&A.dispatchEvent),ji="unhandledrejection",Fi=He(Si,(function(){if(!(Z(Li)!==String(Li))){if(66===ki)return!0;if(!Ui&&"function"!=typeof PromiseRejectionEvent)return!0}if(ki>=51&&/native code/.test(Li))return!1;var e=Li.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[wi]=t,!(e.then((function(){}))instanceof t)})),Mi=Fi||!function(e,t){if(!t&&!kr)return!1;var n=!1;try{var r={};r[br]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}((function(e){Li.all(e).catch((function(){}))})),Bi=function(e){var t;return!(!N(e)||"function"!=typeof(t=e.then))&&t},Wi=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;li((function(){for(var i=t.value,o=1==t.state,a=0;r.length>a;){var s,c,u,l=r[a++],d=o?l.ok:l.fail,f=l.resolve,h=l.reject,p=l.domain;try{d?(o||(2===t.rejection&&Gi(e,t),t.rejection=1),!0===d?s=i:(p&&p.enter(),s=d(i),p&&(p.exit(),u=!0)),s===l.promise?h(_i("Promise-chain cycle")):(c=Bi(s))?c.call(s,f,h):f(s)):h(i)}catch(e){p&&!u&&p.exit(),h(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&qi(e,t)}))}},zi=function(e,t,n){var r,i;Di?((r=Oi.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),A.dispatchEvent(r)):r={promise:t,reason:n},(i=A["on"+e])?i(r):e===ji&&function(e,t){var n=A.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},qi=function(e,t){Ei.call(A,(function(){var n,r=t.value;if(Hi(t)&&(n=pi((function(){Ui?Ni.emit("unhandledRejection",r,e):zi(ji,e,r)})),t.rejection=Ui||Hi(t)?2:1,n.error))throw n.value}))},Hi=function(e){return 1!==e.rejection&&!e.parent},Gi=function(e,t){Ei.call(A,(function(){Ui?Ni.emit("rejectionHandled",e):zi("rejectionhandled",e,t.value)}))},Yi=function(e,t,n,r){return function(i){e(t,n,i,r)}},Qi=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,Wi(e,t,!0))},Xi=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw _i("Promise can't be resolved itself");var i=Bi(n);i?li((function(){var r={done:!1};try{i.call(n,Yi(Xi,e,r,t),Yi(Qi,e,r,t))}catch(n){Qi(e,r,n,t)}})):(t.value=n,t.state=1,Wi(e,t,!1))}catch(n){Qi(e,{done:!1},n,t)}}};Fi&&(Li=function(e){!function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}(this,Li,Si),Tt(e),yi.call(this);var t=Ri(this);try{e(Yi(Xi,this,t),Yi(Qi,this,t))}catch(e){Qi(this,t,e)}},(yi=function(e){Ci(this,{type:Si,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(e,t,n){for(var r in t)ge(e,r,t[r],n);return e}(Li.prototype,{then:function(e,t){var n=xi(this),r=Pi(Lr(this,Li));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=Ui?Ni.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Wi(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),Ai=function(){var e=new yi,t=Ri(e);this.promise=e,this.resolve=Yi(Xi,e,t),this.reject=Yi(Qi,e,t)},fi.f=Pi=function(e){return e===Li||e===Ti?new Ai(e):Vi(e)},"function"==typeof hr&&(bi=hr.prototype.then,ge(hr.prototype,"then",(function(e,t){var n=this;return new Li((function(e,t){bi.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof Ii&&Ye({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return hi(Li,Ii.apply(A,arguments))}}))),Ye({global:!0,wrap:!0,forced:Fi},{Promise:Li}),At(Li,Si,!1),vr(Si),Ti=Te(Si),Ye({target:Si,stat:!0,forced:Fi},{reject:function(e){var t=Pi(this);return t.reject.call(void 0,e),t.promise}}),Ye({target:Si,stat:!0,forced:Fi},{resolve:function(e){return hi(this,e)}}),Ye({target:Si,stat:!0,forced:Mi},{all:function(e){var t=this,n=Pi(t),r=n.resolve,i=n.reject,o=pi((function(){var n=Tt(t.resolve),o=[],a=0,s=1;Tr(e,(function(e){var c=a++,u=!1;o.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,o[c]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=Pi(t),r=n.reject,i=pi((function(){var i=Tt(t.resolve);Tr(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var $i=function(e,t){var n=[][e];return!!n&&T((function(){n.call(null,t||function(){throw 1},1)}))},Ki=Object.defineProperty,Ji={},Zi=function(e){throw e},eo=function(e,t){if(V(Ji,e))return Ji[e];t||(t={});var n=[][e],r=!!V(t,"ACCESSORS")&&t.ACCESSORS,i=V(t,0)?t[0]:Zi,o=V(t,1)?t[1]:void 0;return Ji[e]=!!n&&!T((function(){if(r&&!b)return!0;var e={length:-1};r?Ki(e,1,{enumerable:!0,get:Zi}):e[1]=1,n.call(e,i,o)}))},to=Rt.forEach,no=$i("forEach"),ro=eo("forEach"),io=no&&ro?[].forEach:function(e){return to(this,e,arguments.length>1?arguments[1]:void 0)};for(var oo in Zn){var ao=A[oo],so=ao&&ao.prototype;if(so&&so.forEach!==io)try{H(so,"forEach",io)}catch(e){so.forEach=io}}var co=function(e,t,n){var r=I(t);r in e?q.f(e,r,S(0,n)):e[r]=n},uo=ht("species"),lo=function(e){return ki>=51||!T((function(){var t=[];return(t.constructor={})[uo]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},fo=lo("slice"),ho=eo("slice",{ACCESSORS:!0,0:0,1:2}),po=ht("species"),vo=[].slice,mo=Math.max;Ye({target:"Array",proto:!0,forced:!fo||!ho},{slice:function(e,t){var n,r,i,o=O(this),a=Se(o.length),s=xe(e,a),c=xe(void 0===t?a:t,a);if($e(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!$e(n.prototype)?N(n)&&null===(n=n[po])&&(n=void 0):n=void 0,n===Array||void 0===n))return vo.call(o,s,c);for(r=new(void 0===n?Array:n)(mo(c-s,0)),i=0;s<c;s++,i++)s in o&&co(r,i,o[s]);return r.length=i,r}}),Ye({global:!0},{globalThis:A}),g((function(e){var t=function(e){var t,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),a=new L(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===v){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=R(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=d(e,t,n);if("normal"===c.type){if(r=n.done?v:h,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=v,n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function A(){}var T={};u(T,a,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(_([])));k&&k!==r&&i.call(k,a)&&(T=k);var E=A.prototype=g.prototype=Object.create(T);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,a,s,c){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"===n(f)&&i.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;this._invoke=function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return o=o?o.then(i,i):i()}}function R(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,R(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=d(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:O}}function O(){return{value:t,done:!0}}return y.prototype=A,u(E,"constructor",A),u(A,"constructor",y),y.displayName=u(A,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,u(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},w(S.prototype),u(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(E),u(E,c,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:_(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"===("undefined"==typeof globalThis?"undefined":n(globalThis))?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}));var go=Rt.filter,yo=lo("filter"),Ao=eo("filter");Ye({target:"Array",proto:!0,forced:!yo||!Ao},{filter:function(e){return go(this,e,arguments.length>1?arguments[1]:void 0)}});var To=_e.includes,bo=eo("indexOf",{ACCESSORS:!0,1:0});Ye({target:"Array",proto:!0,forced:!bo},{includes:function(e){return To(this,e,arguments.length>1?arguments[1]:void 0)}}),En("includes");var ko=ht("match"),Eo=function(e){var t;return N(e)&&(void 0!==(t=e[ko])?!!t:"RegExp"==C(e))},wo=function(e){if(Eo(e))throw TypeError("The method doesn't accept regular expressions");return e},So=ht("match");Ye({target:"String",proto:!0,forced:!function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[So]=!1,"/./"[e](t)}catch(e){}}return!1}("includes")},{includes:function(e){return!!~String(_(this)).indexOf(wo(e),arguments.length>1?arguments[1]:void 0)}});var Ro=function(){var e=W(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function Co(e,t){return RegExp(e,t)}var xo={UNSUPPORTED_Y:T((function(){var e=Co("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),BROKEN_CARET:T((function(){var e=Co("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},Lo=RegExp.prototype.exec,_o=String.prototype.replace,Oo=Lo,No=function(){var e=/a/,t=/b*/g;return Lo.call(e,"a"),Lo.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),Io=xo.UNSUPPORTED_Y||xo.BROKEN_CARET,Po=void 0!==/()??/.exec("")[1];(No||Po||Io)&&(Oo=function(e){var t,n,r,i,o=this,a=Io&&o.sticky,s=Ro.call(o),c=o.source,u=0,l=e;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),l=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(c="(?: "+c+")",l=" "+l,u++),n=new RegExp("^(?:"+c+")",s)),Po&&(n=new RegExp("^"+c+"$(?!\\s)",s)),No&&(t=o.lastIndex),r=Lo.call(a?n:o,l),a?r?(r.input=r.input.slice(u),r[0]=r[0].slice(u),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:No&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),Po&&r&&r.length>1&&_o.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var Vo=Oo;Ye({target:"RegExp",proto:!0,forced:/./.exec!==Vo},{exec:Vo});var Uo=ht("species"),Do=!T((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),jo="$0"==="a".replace(/./,"$0"),Fo=ht("replace"),Mo=!!/./[Fo]&&""===/./[Fo]("a","$0"),Bo=!T((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Wo=function(e,t,n,r){var i=ht(e),o=!T((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),a=o&&!T((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[Uo]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t}));if(!o||!a||"replace"===e&&(!Do||!jo||Mo)||"split"===e&&!Bo){var s=/./[i],c=n(i,""[e],(function(e,t,n,r,i){return t.exec===Vo?o&&!i?{done:!0,value:s.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:jo,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Mo}),u=c[0],l=c[1];ge(String.prototype,e,u),ge(RegExp.prototype,i,2==t?function(e,t){return l.call(e,this,t)}:function(e){return l.call(e,this)})}r&&H(RegExp.prototype[i],"sham",!0)},zo=Qn.charAt,qo=function(e,t,n){return t+(n?zo(e,t).length:1)},Ho=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==C(e))throw TypeError("RegExp#exec called on incompatible receiver");return Vo.call(e,t)},Go=Math.max,Yo=Math.min,Qo=Math.floor,Xo=/\$([$&'`]|\d\d?|<[^>]*>)/g,$o=/\$([$&'`]|\d\d?)/g;Wo("replace",2,(function(e,t,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(n,r){var i=_(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(a)){var c=n(t,e,this,r);if(c.done)return c.value}var u=W(e),l=String(this),d="function"==typeof r;d||(r=String(r));var f=u.global;if(f){var h=u.unicode;u.lastIndex=0}for(var p=[];;){var v=Ho(u,l);if(null===v)break;if(p.push(v),!f)break;""===String(v[0])&&(u.lastIndex=qo(l,Se(u.lastIndex),h))}for(var m,g="",y=0,A=0;A<p.length;A++){v=p[A];for(var T=String(v[0]),b=Go(Yo(Ee(v.index),l.length),0),k=[],E=1;E<v.length;E++)k.push(void 0===(m=v[E])?m:String(m));var w=v.groups;if(d){var S=[T].concat(k,b,l);void 0!==w&&S.push(w);var R=String(r.apply(void 0,S))}else R=s(T,l,b,k,w,r);b>=y&&(g+=l.slice(y,b)+R,y=b+T.length)}return g+l.slice(y)}];function s(e,n,r,i,o,a){var s=r+e.length,c=i.length,u=$o;return void 0!==o&&(o=Ke(o),u=Xo),t.call(a,u,(function(t,a){var u;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":u=o[a.slice(1,-1)];break;default:var l=+a;if(0===l)return t;if(l>c){var d=Qo(l/10);return 0===d?t:d<=c?void 0===i[d-1]?a.charAt(1):i[d-1]+a.charAt(1):t}u=i[l-1]}return void 0===u?"":u}))}}));var Ko=ht("isConcatSpreadable"),Jo=9007199254740991,Zo="Maximum allowed index exceeded",ea=ki>=51||!T((function(){var e=[];return e[Ko]=!1,e.concat()[0]!==e})),ta=lo("concat"),na=function(e){if(!N(e))return!1;var t=e[Ko];return void 0!==t?!!t:$e(e)};Ye({target:"Array",proto:!0,forced:!ea||!ta},{concat:function(e){var t,n,r,i,o,a=Ke(this),s=Et(a,0),c=0;for(t=-1,r=arguments.length;t<r;t++)if(na(o=-1===t?a:arguments[t])){if(c+(i=Se(o.length))>Jo)throw TypeError(Zo);for(n=0;n<i;n++,c++)n in o&&co(s,c,o[n])}else{if(c>=Jo)throw TypeError(Zo);co(s,c++,o)}return s.length=c,s}});var ra=T((function(){Je(1)}));Ye({target:"Object",stat:!0,forced:ra},{keys:function(e){return Je(Ke(e))}});var ia=["muted","volume"];function oa(e){var n=e.src,r=e.configAttributes,i=r.muted,o=r.volume,a=c(r,ia),s=e.player,d=e.isVPAID,f=e.VASTSources;e.setVolume;var h=i||!o?0:o;s.volume=h,s.muted=i||0===o,function(e,t){Object.keys(e).reduce((function(t,n){var r=e[n];return r?[].concat(l(t),[[n,r]]):t}),[]).forEach((function(e){var n=u(e,2),r=n[0],i=n[1];t.setAttribute(r,sa(r)?"":i)}))}(t(t({},a),{},{volume:h}),s),d||function(e,t,n){var r=(null==n?void 0:n.media)||e;(Array.isArray(r)?r:[r]).forEach((function(e){var n=!!e.fileURL,r=n?e.fileURL:e,i=document.createElement("source");i.src=r,n&&(i.type=e.mimeType),t.appendChild(i)}))}(n,s,f)}var aa,sa=function(e){return["autoplay","loop","playsinline","webkit-playsinline"].includes(e)};function ca(){var e=this.player,t=this.isVPAID,n=this.VASTSources,r=this.config,i=r.src,o=r.width,a=r.height,s=r.autoplay,c=r.volume,u=r.muted,l=r.poster,d=r.preload,f=r.loop,h=r.playsinline;this.__nodeOn(e,"contextmenu",(function(e){return e.preventDefault()})),oa({src:i,configAttributes:{muted:u,volume:c,width:o,height:a,autoplay:s,poster:l,preload:d,loop:f,playsinline:h,"webkit-playsinline":h,disableRemotePlayback:!0},player:e,isVPAID:t,VASTSources:n,setVolume:this.volume})}var ua="gg-ez-vp",la="data-ready",da="playback-progress",fa="player-click",ha="pre-destroy",pa="ready",va="resize",ma="error",ga="VPAID-started",ya="timestampAd",Aa="skip",Ta="volume",ba="".concat(Ta,"Range"),ka="progress",Ea="timestamp",wa="play",Sa="expand",Ra={container:null,width:"100%",height:null,src:null,autoPlay:!1,volume:1,muted:!0,poster:null,preload:"auto",loop:!1,adControls:!1,isVAST:!1,fullscreen:!1,playsinline:!0,controls:(aa={},s(aa,ya,!1),s(aa,Aa,!1),s(aa,Ta,!0),s(aa,ba,!0),s(aa,ka,!0),s(aa,Ea,!0),s(aa,wa,!0),s(aa,Sa,!0),aa)},Ca="2.0",xa={resolveAll:!1},La=["application/x-javascript","application/javascript","application/ecmascript","text/javascript","text/ecmascript"],_a=g((function(e,t){"undefined"!=typeof window&&window,e.exports=function(){if("undefined"==typeof window)return null;var e="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)},n=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||function(t){e.clearTimeout(t)};function r(e,t){var n=Object.prototype.toString.call(e),r="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,i=0,o=e.length;if(r)for(;i<o;i++)t(e[i]);else t(e)}function i(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function o(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}var a=function e(a,s){var c=0;function u(){var e,t,n=[];this.add=function(e){n.push(e)},this.call=function(r){for(e=0,t=n.length;e<t;e++)n[e].call(this,r)},this.remove=function(r){var i=[];for(e=0,t=n.length;e<t;e++)n[e]!==r&&i.push(n[e]);n=i},this.length=function(){return n.length}}function l(e,n){if(e)if(e.resizedAttached)e.resizedAttached.add(n);else{e.resizedAttached=new u,e.resizedAttached.add(n),e.resizeSensor=document.createElement("div"),e.resizeSensor.dir="ltr",e.resizeSensor.className="resize-sensor";var r={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},a={position:"absolute",left:"0px",top:"0px",transition:"0s"};o(e.resizeSensor,r);var s=document.createElement("div");s.className="resize-sensor-expand",o(s,r);var l=document.createElement("div");o(l,a),s.appendChild(l);var d=document.createElement("div");d.className="resize-sensor-shrink",o(d,r);var f=document.createElement("div");o(f,a),o(f,{width:"200%",height:"200%"}),d.appendChild(f),e.resizeSensor.appendChild(s),e.resizeSensor.appendChild(d),e.appendChild(e.resizeSensor);var h=window.getComputedStyle(e),p=h?h.getPropertyValue("position"):null;"absolute"!==p&&"relative"!==p&&"fixed"!==p&&"sticky"!==p&&(e.style.position="relative");var v=!1,m=0,g=i(e),y=0,A=0,T=!0;c=0;var b=function(){var t=e.offsetWidth,n=e.offsetHeight;l.style.width=t+10+"px",l.style.height=n+10+"px",s.scrollLeft=t+10,s.scrollTop=n+10,d.scrollLeft=t+10,d.scrollTop=n+10},k=function n(){if(T){if(0===e.offsetWidth&&0===e.offsetHeight)return void(c||(c=t((function(){c=0,n()}))));T=!1}b()};e.resizeSensor.resetSensor=k;var E=function(){m=0,v&&(y=g.width,A=g.height,e.resizedAttached&&e.resizedAttached.call(g))},w=function(){g=i(e),(v=g.width!==y||g.height!==A)&&!m&&(m=t(E)),k()},S=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};S(s,"scroll",w),S(d,"scroll",w),c=t((function(){c=0,k()}))}}r(a,(function(e){l(e,s)})),this.detach=function(t){c||(n(c),c=0),e.detach(a,t)},this.reset=function(){a.resizeSensor.resetSensor()}};if(a.reset=function(e){r(e,(function(e){e.resizeSensor.resetSensor()}))},a.detach=function(e,t){r(e,(function(e){e&&(e.resizedAttached&&"function"==typeof t&&(e.resizedAttached.remove(t),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached))}))},"undefined"!=typeof MutationObserver){var s=new MutationObserver((function(e){for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t].addedNodes,r=0;r<n.length;r++)n[r].resizeSensor&&a.reset(n[r])}));document.addEventListener("DOMContentLoaded",(function(e){s.observe(document.body,{childList:!0,subtree:!0})}))}return a}()})),Oa=B.f,Na=T((function(){Oa(1)}));Ye({target:"Object",stat:!0,forced:!b||Na,sham:!b},{getOwnPropertyDescriptor:function(e,t){return Oa(O(e),t)}}),Ye({target:"Object",stat:!0,sham:!b},{getOwnPropertyDescriptors:function(e){for(var t,n,r=O(e),i=B.f,o=De(r),a={},s=0;o.length>s;)void 0!==(n=i(r,t=o[s++]))&&co(a,t,n);return a}});var Ia=[].slice,Pa={},Va=function(e,t,n){if(!(t in Pa)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";Pa[t]=Function("C,a","return new C("+r.join(",")+")")}return Pa[t](e,n)},Ua=Function.bind||function(e){var t=Tt(this),n=Ia.call(arguments,1),r=function(){var i=n.concat(Ia.call(arguments));return this instanceof r?Va(t,i.length,i):t.apply(e,i)};return N(t.prototype)&&(r.prototype=t.prototype),r},Da=Te("Reflect","construct"),ja=T((function(){function e(){}return!(Da((function(){}),[],e)instanceof e)})),Fa=!T((function(){Da((function(){}))})),Ma=ja||Fa;Ye({target:"Reflect",stat:!0,forced:Ma,sham:Ma},{construct:function(e,t){Tt(e),W(t);var n=arguments.length<3?e:Tt(arguments[2]);if(Fa&&!ja)return Da(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(Ua.apply(e,r))}var i=n.prototype,o=ot(N(i)?i:Object.prototype),a=Function.apply.call(e,o,t);return N(a)?a:o}});var Ba="toString",Wa=RegExp.prototype,za=Wa.toString,qa=T((function(){return"/a/b"!=za.call({source:"a",flags:"b"})})),Ha=za.name!=Ba;(qa||Ha)&&ge(RegExp.prototype,Ba,(function(){var e=W(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in Wa)?Ro.call(e):n)}),{unsafe:!0}),Wo("match",1,(function(e,t,n){return[function(t){var n=_(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=W(e),o=String(this);if(!i.global)return Ho(i,o);var a=i.unicode;i.lastIndex=0;for(var s,c=[],u=0;null!==(s=Ho(i,o));){var l=String(s[0]);c[u]=l,""===l&&(i.lastIndex=qo(o,Se(i.lastIndex),a)),u++}return 0===u?null:c}]}));var Ga=function(e,t,n){var r,i;return Pn&&"function"==typeof(r=t.constructor)&&r!==n&&N(i=r.prototype)&&i!==n.prototype&&Pn(e,i),e},Ya=q.f,Qa=Ve.f,Xa=me.set,$a=ht("match"),Ka=A.RegExp,Ja=Ka.prototype,Za=/a/g,es=/a/g,ts=new Ka(Za)!==Za,ns=xo.UNSUPPORTED_Y;if(b&&He("RegExp",!ts||ns||T((function(){return es[$a]=!1,Ka(Za)!=Za||Ka(es)==es||"/a/i"!=Ka(Za,"i")})))){for(var rs=function(e,t){var n,r=this instanceof rs,i=Eo(e),o=void 0===t;if(!r&&i&&e.constructor===rs&&o)return e;ts?i&&!o&&(e=e.source):e instanceof rs&&(o&&(t=Ro.call(e)),e=e.source),ns&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var a=Ga(ts?new Ka(e,t):Ka(e,t),r?this:Ja,rs);return ns&&n&&Xa(a,{sticky:n}),a},is=function(e){e in rs||Ya(rs,e,{configurable:!0,get:function(){return Ka[e]},set:function(t){Ka[e]=t}})},os=Qa(Ka),as=0;os.length>as;)is(os[as++]);Ja.constructor=rs,rs.prototype=Ja,ge(A,"RegExp",rs)}vr("RegExp");var ss=Rt.map,cs=lo("map"),us=eo("map");Ye({target:"Array",proto:!0,forced:!cs||!us},{map:function(e){return ss(this,e,arguments.length>1?arguments[1]:void 0)}});var ls=ut.f,ds=T((function(){return!Object.getOwnPropertyNames(1)}));Ye({target:"Object",stat:!0,forced:ds},{getOwnPropertyNames:ls});var fs=[].join,hs=L!=Object,ps=$i("join",",");Ye({target:"Array",proto:!0,forced:hs||!ps},{join:function(e){return fs.call(O(this),void 0===e?",":e)}});var vs="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",ms="["+vs+"]",gs=RegExp("^"+ms+ms+"*"),ys=RegExp(ms+ms+"*$"),As=function(e){return function(t){var n=String(_(t));return 1&e&&(n=n.replace(gs,"")),2&e&&(n=n.replace(ys,"")),n}},Ts={start:As(1),end:As(2),trim:As(3)},bs=Ts.trim;Ye({target:"String",proto:!0,forced:function(e){return T((function(){return!!vs[e]()||"âÂá "!="âÂá "[e]()||vs[e].name!==e}))}("trim")},{trim:function(){return bs(this)}});var ks=[].push,Es=Math.min,ws=4294967295,Ss=!T((function(){return!RegExp(ws,"y")}));Wo("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(_(this)),i=void 0===n?ws:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!Eo(e))return t.call(r,e,i);for(var o,a,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,d=new RegExp(e.source,u+"g");(o=Vo.call(d,r))&&!((a=d.lastIndex)>l&&(c.push(r.slice(l,o.index)),o.length>1&&o.index<r.length&&ks.apply(c,o.slice(1)),s=o[0].length,l=a,c.length>=i));)d.lastIndex===o.index&&d.lastIndex++;return l===r.length?!s&&d.test("")||c.push(""):c.push(r.slice(l)),c.length>i?c.slice(0,i):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=_(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var a=W(e),s=String(this),c=Lr(a,RegExp),u=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Ss?"y":"g"),d=new c(Ss?a:"^(?:"+a.source+")",l),f=void 0===i?ws:i>>>0;if(0===f)return[];if(0===s.length)return null===Ho(d,s)?[s]:[];for(var h=0,p=0,v=[];p<s.length;){d.lastIndex=Ss?p:0;var m,g=Ho(d,Ss?s:s.slice(p));if(null===g||(m=Es(Se(d.lastIndex+(Ss?0:p)),s.length))===h)p=qo(s,p,u);else{if(v.push(s.slice(h,p)),v.length===f)return v;for(var y=1;y<=g.length-1;y++)if(v.push(g[y]),v.length===f)return v;p=h=m}}return v.push(s.slice(h)),v}]}),!Ss);var Rs=Object.assign,Cs=Object.defineProperty,xs=!Rs||T((function(){if(b&&1!==Rs({b:1},Rs(Cs({},"a",{enumerable:!0,get:function(){Cs(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=Rs({},e)[n]||Je(Rs({},t)).join("")!=r}))?function(e,t){for(var n=Ke(e),r=arguments.length,i=1,o=Ue.f,a=w.f;r>i;)for(var s,c=L(arguments[i++]),u=o?Je(c).concat(o(c)):Je(c),l=u.length,d=0;l>d;)s=u[d++],b&&!a.call(c,s)||(n[s]=c[s]);return n}:Rs;Ye({target:"Object",stat:!0,forced:Object.assign!==xs},{assign:xs});var Ls=lo("splice"),_s=eo("splice",{ACCESSORS:!0,0:0,1:2}),Os=Math.max,Ns=Math.min,Is=9007199254740991,Ps="Maximum allowed length exceeded";Ye({target:"Array",proto:!0,forced:!Ls||!_s},{splice:function(e,t){var n,r,i,o,a,s,c=Ke(this),u=Se(c.length),l=xe(e,u),d=arguments.length;if(0===d?n=r=0:1===d?(n=0,r=u-l):(n=d-2,r=Ns(Os(Ee(t),0),u-l)),u+n-r>Is)throw TypeError(Ps);for(i=Et(c,r),o=0;o<r;o++)(a=l+o)in c&&co(i,o,c[a]);if(i.length=r,n<r){for(o=l;o<u-r;o++)s=o+n,(a=o+r)in c?c[s]=c[a]:delete c[s];for(o=u;o>u-r+n;o--)delete c[o-1]}else if(n>r)for(o=u-r;o>l;o--)s=o+n-1,(a=o+r-1)in c?c[s]=c[a]:delete c[s];for(o=0;o<n;o++)c[o+l]=arguments[o+2];return c.length=u-r+n,i}});var Vs=Rt.find,Us="find",Ds=!0,js=eo(Us);Us in[]&&Array(1).find((function(){Ds=!1})),Ye({target:"Array",proto:!0,forced:Ds||!js},{find:function(e){return Vs(this,e,arguments.length>1?arguments[1]:void 0)}}),En(Us);var Fs=g((function(e,t){!function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!=n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,adId:e.adId||null,sequence:e.sequence||null,apiFramework:e.apiFramework||null,universalAdId:{value:null,idRegistry:"unknown"},creativeExtensions:[]}}var v=["ADCATEGORIES","ADCOUNT","ADPLAYHEAD","ADSERVINGID","ADTYPE","APIFRAMEWORKS","APPBUNDLE","ASSETURI","BLOCKEDADCATEGORIES","BREAKMAXADLENGTH","BREAKMAXADS","BREAKMAXDURATION","BREAKMINADLENGTH","BREAKMINDURATION","BREAKPOSITION","CLICKPOS","CLICKTYPE","CLIENTUA","CONTENTID","CONTENTPLAYHEAD","CONTENTURI","DEVICEIP","DEVICEUA","DOMAIN","EXTENSIONS","GDPRCONSENT","IFA","IFATYPE","INVENTORYSTATE","LATLONG","LIMITADTRACKING","MEDIAMIME","MEDIAPLAYHEAD","OMIDPARTNER","PAGEURL","PLACEMENTTYPE","PLAYERCAPABILITIES","PLAYERSIZE","PLAYERSTATE","PODSEQUENCE","REGULATIONS","SERVERSIDE","SERVERUA","TRANSACTIONID","UNIVERSALADID","VASTVERSIONS","VERIFICATIONVENDORS"];function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],i=A(e);for(var o in!t.ERRORCODE||n.isCustomCode||/^[0-9]{3}$/.test(t.ERRORCODE)||(t.ERRORCODE=900),t.CACHEBUSTING=E(Math.round(1e8*Math.random()).toString()),t.TIMESTAMP=(new Date).toISOString(),t.RANDOM=t.random=t.CACHEBUSTING,t)t[o]=k(t[o]);for(var a in i){var s=i[a];"string"==typeof s&&r.push(g(s,t))}return r}function g(e,t){var n=(e=y(e,t)).match(/[^[\]]+(?=])/g);if(!n)return e;var r=n.filter((function(e){return v.indexOf(e)>-1}));return 0===r.length?e:y(e,r=r.reduce((function(e,t){return e[t]=-1,e}),{}))}function y(e,t){var n=e;for(var r in t){var i=t[r];n=n.replace(new RegExp("(?:\\[|%%)(".concat(r,")(?:\\]|%%)"),"g"),i)}return n}function A(e){return Array.isArray(e)?e.map((function(e){return e&&e.hasOwnProperty("url")?e.url:e})):e}function T(e,t){for(var n=0;n<t.length;n++)if(b(t[n],e))return!0;return!1}function b(e,t){if(e&&t){var n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);return n.length===r.length&&e.id===t.id&&e.url===t.url}return!1}function k(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16))}))}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=String(e);return n.length<t?w(0,t-n.length,!1).map((function(){return"0"})).join("")+n:n}function w(e,t,n){for(var r=[],i=e<t,o=n?i?t+1:t-1:t,a=e;i?a<o:a>o;i?a++:a--)r.push(a);return r}var S={track:function(e,t,n){m(e,t,n).forEach((function(e){"undefined"!=typeof window&&null!==window&&((new Image).src=e)}))},resolveURLTemplates:m,extractURLsFromTemplates:A,containsTemplateObject:T,isTemplateObjectEqual:b,encodeURIComponentRFC3986:k,replaceUrlMacros:g,leftpad:E,range:w,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},flatten:function e(t){return t.reduce((function(t,n){return t.concat(Array.isArray(n)?e(n):n)}),[])},joinArrayOfUniqueTemplateObjs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array.isArray(e)?e:[],r=Array.isArray(t)?t:[];return n.concat(r).reduce((function(e,t){return T(t,e)||e.push(t),e}),[])}};function R(e){return-1!==["true","TRUE","True","1"].indexOf(e)}var C={childByName:function(e,t){var n=e.childNodes;for(var r in n){var i=n[r];if(i.nodeName===t)return i}},childrenByName:function(e,t){var n=[],r=e.childNodes;for(var i in r){var o=r[i];o.nodeName===t&&n.push(o)}return n},resolveVastAdTagURI:function(e,t){if(!t)return e;if(0===e.indexOf("//")){var n=location.protocol;return"".concat(n).concat(e)}if(-1===e.indexOf("://")){var r=t.slice(0,t.lastIndexOf("/"));return"".concat(r,"/").concat(e)}return e},parseBoolean:R,parseNodeText:function(e){return e&&(e.textContent||e.text||"").trim()},copyNodeAttribute:function(e,t,n){var r=t.getAttribute(e);r&&n.setAttribute(e,r)},parseAttributes:function(e){for(var t=e.attributes,n={},r=0;r<t.length;r++)n[t[r].nodeName]=t[r].nodeValue;return n},parseDuration:function(e){if(null==e)return-1;if(S.isNumeric(e))return parseInt(e);var t=e.split(":");if(3!==t.length)return-1;var n=t[2].split("."),r=parseInt(n[0]);2===n.length&&(r+=parseFloat("0.".concat(n[1])));var i=parseInt(60*t[1]),o=parseInt(60*t[0]*60);return isNaN(o)||isNaN(i)||isNaN(r)||i>3600||r>60?-1:o+i+r},splitVAST:function(e){var t=[],n=null;return e.forEach((function(r,i){if(r.sequence&&(r.sequence=parseInt(r.sequence,10)),r.sequence>1){var o=e[i-1];if(o&&o.sequence===r.sequence-1)return void(n&&n.push(r));delete r.sequence}n=[r],t.push(n)})),t},assignAttributes:function(e,t){if(e)for(var n in e){var r=e[n];if(r.nodeName&&r.nodeValue&&t.hasOwnProperty(r.nodeName)){var i=r.nodeValue;"boolean"==typeof t[r.nodeName]&&(i=R(i)),t[r.nodeName]=i}}},mergeWrapperAdData:function(e,t){e.errorURLTemplates=t.errorURLTemplates.concat(e.errorURLTemplates),e.impressionURLTemplates=t.impressionURLTemplates.concat(e.impressionURLTemplates),e.extensions=t.extensions.concat(e.extensions),e.followAdditionalWrappers=t.followAdditionalWrappers,e.allowMultipleAds=t.allowMultipleAds,e.fallbackOnNoAd=t.fallbackOnNoAd;var n=(t.creatives||[]).filter((function(e){return e&&"companion"===e.type})),r=n.reduce((function(e,t){return(t.variations||[]).forEach((function(t){(t.companionClickTrackingURLTemplates||[]).forEach((function(t){S.containsTemplateObject(t,e)||e.push(t)}))})),e}),[]);e.creatives=n.concat(e.creatives);var i=t.videoClickTrackingURLTemplates&&t.videoClickTrackingURLTemplates.length,o=t.videoCustomClickURLTemplates&&t.videoCustomClickURLTemplates.length;e.creatives.forEach((function(e){if(t.trackingEvents&&t.trackingEvents[e.type])for(var n in t.trackingEvents[e.type]){var a=t.trackingEvents[e.type][n];Array.isArray(e.trackingEvents[n])||(e.trackingEvents[n]=[]),e.trackingEvents[n]=e.trackingEvents[n].concat(a)}"linear"===e.type&&(i&&(e.videoClickTrackingURLTemplates=e.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates)),o&&(e.videoCustomClickURLTemplates=e.videoCustomClickURLTemplates.concat(t.videoCustomClickURLTemplates)),!t.videoClickThroughURLTemplate||null!==e.videoClickThroughURLTemplate&&void 0!==e.videoClickThroughURLTemplate||(e.videoClickThroughURLTemplate=t.videoClickThroughURLTemplate)),"companion"===e.type&&r.length&&(e.variations||[]).forEach((function(e){e.companionClickTrackingURLTemplates=S.joinArrayOfUniqueTemplateObjs(e.companionClickTrackingURLTemplates,r)}))})),t.adVerifications&&(e.adVerifications=e.adVerifications.concat(t.adVerifications)),t.blockedAdCategories&&(e.blockedAdCategories=e.blockedAdCategories.concat(t.blockedAdCategories))}};function x(e,t){var n=function(){var e=p(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{id:e.id,adId:e.adId,sequence:e.sequence,apiFramework:e.apiFramework,type:"companion",required:null,variations:[]}}(t);return n.required=e.getAttribute("required")||null,n.variations=C.childrenByName(e,"Companion").map((function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,adType:"companionAd",width:e.width||0,height:e.height||0,assetWidth:e.assetWidth||null,assetHeight:e.assetHeight||null,expandedWidth:e.expandedWidth||null,expandedHeight:e.expandedHeight||null,apiFramework:e.apiFramework||null,adSlotID:e.adSlotID||null,pxratio:e.pxratio||"1",renderingMode:e.renderingMode||"default",staticResources:[],htmlResources:[],iframeResources:[],adParameters:null,xmlEncoded:null,altText:null,companionClickThroughURLTemplate:null,companionClickTrackingURLTemplates:[],trackingEvents:{}}}(C.parseAttributes(e));t.htmlResources=C.childrenByName(e,"HTMLResource").reduce((function(e,t){var n=C.parseNodeText(t);return n?e.concat(n):e}),[]),t.iframeResources=C.childrenByName(e,"IFrameResource").reduce((function(e,t){var n=C.parseNodeText(t);return n?e.concat(n):e}),[]),t.staticResources=C.childrenByName(e,"StaticResource").reduce((function(e,t){var n=C.parseNodeText(t);return n?e.concat({url:n,creativeType:t.getAttribute("creativeType")||null}):e}),[]),t.altText=C.parseNodeText(C.childByName(e,"AltText"))||null;var n=C.childByName(e,"TrackingEvents");n&&C.childrenByName(n,"Tracking").forEach((function(e){var n=e.getAttribute("event"),r=C.parseNodeText(e);n&&r&&(Array.isArray(t.trackingEvents[n])||(t.trackingEvents[n]=[]),t.trackingEvents[n].push(r))})),t.companionClickTrackingURLTemplates=C.childrenByName(e,"CompanionClickTracking").map((function(e){return{id:e.getAttribute("id")||null,url:C.parseNodeText(e)}})),t.companionClickThroughURLTemplate=C.parseNodeText(C.childByName(e,"CompanionClickThrough"))||null;var r=C.childByName(e,"AdParameters");return r&&(t.adParameters=C.parseNodeText(r),t.xmlEncoded=r.getAttribute("xmlEncoded")||null),t})),n}function L(e){return"linear"===e.type}function _(e,t){var n,r=function(){var e=p(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{id:e.id,adId:e.adId,sequence:e.sequence,apiFramework:e.apiFramework,type:"linear",duration:0,skipDelay:null,mediaFiles:[],mezzanine:null,interactiveCreativeFile:null,closedCaptionFiles:[],videoClickThroughURLTemplate:null,videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[],adParameters:null,icons:[],trackingEvents:{}}}(t);r.duration=C.parseDuration(C.parseNodeText(C.childByName(e,"Duration")));var i=e.getAttribute("skipoffset");if(null==i)r.skipDelay=null;else if("%"===i.charAt(i.length-1)&&-1!==r.duration){var o=parseInt(i,10);r.skipDelay=r.duration*(o/100)}else r.skipDelay=C.parseDuration(i);var a=C.childByName(e,"VideoClicks");if(a){var s=C.childByName(a,"ClickThrough");r.videoClickThroughURLTemplate=s?{id:s.getAttribute("id")||null,url:C.parseNodeText(s)}:null,C.childrenByName(a,"ClickTracking").forEach((function(e){r.videoClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:C.parseNodeText(e)})})),C.childrenByName(a,"CustomClick").forEach((function(e){r.videoCustomClickURLTemplates.push({id:e.getAttribute("id")||null,url:C.parseNodeText(e)})}))}var c=C.childByName(e,"AdParameters");c&&(r.adParameters=C.parseNodeText(c)),C.childrenByName(e,"TrackingEvents").forEach((function(e){C.childrenByName(e,"Tracking").forEach((function(e){var t=e.getAttribute("event"),i=C.parseNodeText(e);if(t&&i){if("progress"===t){if(!(n=e.getAttribute("offset")))return;t="%"===n.charAt(n.length-1)?"progress-".concat(n):"progress-".concat(Math.round(C.parseDuration(n)))}Array.isArray(r.trackingEvents[t])||(r.trackingEvents[t]=[]),r.trackingEvents[t].push(i)}}))})),C.childrenByName(e,"MediaFiles").forEach((function(e){C.childrenByName(e,"MediaFile").forEach((function(e){r.mediaFiles.push(function(e){var t={id:null,fileURL:null,fileSize:0,deliveryType:"progressive",mimeType:null,mediaType:null,codec:null,bitrate:0,minBitrate:0,maxBitrate:0,width:0,height:0,apiFramework:null,scalable:null,maintainAspectRatio:null};t.id=e.getAttribute("id"),t.fileURL=C.parseNodeText(e),t.deliveryType=e.getAttribute("delivery"),t.codec=e.getAttribute("codec"),t.mimeType=e.getAttribute("type"),t.mediaType=e.getAttribute("mediaType")||"2D",t.apiFramework=e.getAttribute("apiFramework"),t.fileSize=parseInt(e.getAttribute("fileSize")||0),t.bitrate=parseInt(e.getAttribute("bitrate")||0),t.minBitrate=parseInt(e.getAttribute("minBitrate")||0),t.maxBitrate=parseInt(e.getAttribute("maxBitrate")||0),t.width=parseInt(e.getAttribute("width")||0),t.height=parseInt(e.getAttribute("height")||0);var n=e.getAttribute("scalable");n&&"string"==typeof n&&(t.scalable=C.parseBoolean(n));var r=e.getAttribute("maintainAspectRatio");return r&&"string"==typeof r&&(t.maintainAspectRatio=C.parseBoolean(r)),t}(e))}));var t=C.childByName(e,"InteractiveCreativeFile");t&&(r.interactiveCreativeFile=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e.type||null,apiFramework:e.apiFramework||null,variableDuration:C.parseBoolean(e.variableDuration),fileURL:null}}(C.parseAttributes(e));return t.fileURL=C.parseNodeText(e),t}(t));var n=C.childByName(e,"ClosedCaptionFiles");n&&C.childrenByName(n,"ClosedCaptionFile").forEach((function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e.type||null,language:e.language||null,fileURL:null}}(C.parseAttributes(e));t.fileURL=C.parseNodeText(e),r.closedCaptionFiles.push(t)}));var i,o,a,s=C.childByName(e,"Mezzanine"),c=(i=s,o={},a=!1,["delivery","type","width","height"].forEach((function(e){i&&i.getAttribute(e)?o[e]=i.getAttribute(e):a=!0})),a?null:o);if(c){var u={id:null,fileURL:null,delivery:null,codec:null,type:null,width:0,height:0,fileSize:0,mediaType:"2D"};u.id=s.getAttribute("id"),u.fileURL=C.parseNodeText(s),u.delivery=c.delivery,u.codec=s.getAttribute("codec"),u.type=c.type,u.width=parseInt(c.width,10),u.height=parseInt(c.height,10),u.fileSize=parseInt(s.getAttribute("fileSize"),10),u.mediaType=s.getAttribute("mediaType")||"2D",r.mezzanine=u}}));var u=C.childByName(e,"Icons");return u&&C.childrenByName(u,"Icon").forEach((function(e){r.icons.push(function(e){var t={program:null,height:0,width:0,xPosition:0,yPosition:0,apiFramework:null,offset:null,duration:0,type:null,staticResource:null,htmlResource:null,iframeResource:null,pxratio:"1",iconClickThroughURLTemplate:null,iconClickTrackingURLTemplates:[],iconViewTrackingURLTemplate:null};t.program=e.getAttribute("program"),t.height=parseInt(e.getAttribute("height")||0),t.width=parseInt(e.getAttribute("width")||0),t.xPosition=function(e){return-1!==["left","right"].indexOf(e)?e:parseInt(e||0)}(e.getAttribute("xPosition")),t.yPosition=function(e){return-1!==["top","bottom"].indexOf(e)?e:parseInt(e||0)}(e.getAttribute("yPosition")),t.apiFramework=e.getAttribute("apiFramework"),t.pxratio=e.getAttribute("pxratio")||"1",t.offset=C.parseDuration(e.getAttribute("offset")),t.duration=C.parseDuration(e.getAttribute("duration")),C.childrenByName(e,"HTMLResource").forEach((function(e){t.type=e.getAttribute("creativeType")||"text/html",t.htmlResource=C.parseNodeText(e)})),C.childrenByName(e,"IFrameResource").forEach((function(e){t.type=e.getAttribute("creativeType")||0,t.iframeResource=C.parseNodeText(e)})),C.childrenByName(e,"StaticResource").forEach((function(e){t.type=e.getAttribute("creativeType")||0,t.staticResource=C.parseNodeText(e)}));var n=C.childByName(e,"IconClicks");return n&&(t.iconClickThroughURLTemplate=C.parseNodeText(C.childByName(n,"IconClickThrough")),C.childrenByName(n,"IconClickTracking").forEach((function(e){t.iconClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:C.parseNodeText(e)})}))),t.iconViewTrackingURLTemplate=C.parseNodeText(C.childByName(e,"IconViewTracking")),t}(e))})),r}function O(e,t){var n=function(){var e=p(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{id:e.id,adId:e.adId,sequence:e.sequence,apiFramework:e.apiFramework,type:"nonlinear",variations:[],trackingEvents:{}}}(t);return C.childrenByName(e,"TrackingEvents").forEach((function(e){var t,r;C.childrenByName(e,"Tracking").forEach((function(e){t=e.getAttribute("event"),r=C.parseNodeText(e),t&&r&&(Array.isArray(n.trackingEvents[t])||(n.trackingEvents[t]=[]),n.trackingEvents[t].push(r))}))})),C.childrenByName(e,"NonLinear").forEach((function(e){var t={id:null,width:0,height:0,expandedWidth:0,expandedHeight:0,scalable:!0,maintainAspectRatio:!0,minSuggestedDuration:0,apiFramework:"static",adType:"nonLinearAd",type:null,staticResource:null,htmlResource:null,iframeResource:null,nonlinearClickThroughURLTemplate:null,nonlinearClickTrackingURLTemplates:[],adParameters:null};t.id=e.getAttribute("id")||null,t.width=e.getAttribute("width"),t.height=e.getAttribute("height"),t.expandedWidth=e.getAttribute("expandedWidth"),t.expandedHeight=e.getAttribute("expandedHeight"),t.scalable=C.parseBoolean(e.getAttribute("scalable")),t.maintainAspectRatio=C.parseBoolean(e.getAttribute("maintainAspectRatio")),t.minSuggestedDuration=C.parseDuration(e.getAttribute("minSuggestedDuration")),t.apiFramework=e.getAttribute("apiFramework"),C.childrenByName(e,"HTMLResource").forEach((function(e){t.type=e.getAttribute("creativeType")||"text/html",t.htmlResource=C.parseNodeText(e)})),C.childrenByName(e,"IFrameResource").forEach((function(e){t.type=e.getAttribute("creativeType")||0,t.iframeResource=C.parseNodeText(e)})),C.childrenByName(e,"StaticResource").forEach((function(e){t.type=e.getAttribute("creativeType")||0,t.staticResource=C.parseNodeText(e)}));var r=C.childByName(e,"AdParameters");r&&(t.adParameters=C.parseNodeText(r)),t.nonlinearClickThroughURLTemplate=C.parseNodeText(C.childByName(e,"NonLinearClickThrough")),C.childrenByName(e,"NonLinearClickTracking").forEach((function(e){t.nonlinearClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:C.parseNodeText(e)})})),n.variations.push(t)})),n}function N(e){var t=[];return e.forEach((function(e){var n=I(e);n&&t.push(n)})),t}function I(e){if("#comment"===e.nodeName)return null;var t,n={name:null,value:null,attributes:{},children:[]},r=e.attributes,i=e.childNodes;if(n.name=e.nodeName,e.attributes)for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];a.nodeName&&a.nodeValue&&(n.attributes[a.nodeName]=a.nodeValue)}for(var s in i)if(i.hasOwnProperty(s)){var c=I(i[s]);c&&n.children.push(c)}if(0===n.children.length||1===n.children.length&&["#cdata-section","#text"].indexOf(n.children[0].name)>=0){var u=C.parseNodeText(e);""!==u&&(n.value=u),n.children=[]}return null===(t=n).value&&0===Object.keys(t.attributes).length&&0===t.children.length?null:n}function P(e){var t=[];return e.forEach((function(e){var n,r,i={id:e.getAttribute("id")||null,adId:V(e),sequence:e.getAttribute("sequence")||null,apiFramework:e.getAttribute("apiFramework")||null},o=C.childByName(e,"UniversalAdId");o&&(n={idRegistry:o.getAttribute("idRegistry")||"unknown",value:C.parseNodeText(o)});var a=C.childByName(e,"CreativeExtensions");for(var s in a&&(r=N(C.childrenByName(a,"CreativeExtension"))),e.childNodes){var c=e.childNodes[s],u=void 0;switch(c.nodeName){case"Linear":u=_(c,i);break;case"NonLinearAds":u=O(c,i);break;case"CompanionAds":u=x(c,i)}u&&(n&&(u.universalAdId=n),r&&(u.creativeExtensions=r),t.push(u))}})),t}function V(e){return e.getAttribute("AdID")||e.getAttribute("adID")||e.getAttribute("adId")||null}var U={Wrapper:{subElements:["VASTAdTagURI","Impression"]},BlockedAdCategories:{attributes:["authority"]},InLine:{subElements:["AdSystem","AdTitle","Impression","AdServingId","Creatives"]},Category:{attributes:["authority"]},Pricing:{attributes:["model","currency"]},Verification:{oneOfinLineResources:["JavaScriptResource","ExecutableResource"],attributes:["vendor"]},UniversalAdId:{attributes:["idRegistry"]},JavaScriptResource:{attributes:["apiFramework","browserOptional"]},ExecutableResource:{attributes:["apiFramework","type"]},Tracking:{attributes:["event"]},Creatives:{subElements:["Creative"]},Creative:{subElements:["UniversalAdId"]},Linear:{subElements:["MediaFiles","Duration"]},MediaFiles:{subElements:["MediaFile"]},MediaFile:{attributes:["delivery","type","width","height"]},Mezzanine:{attributes:["delivery","type","width","height"]},NonLinear:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},Companion:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},StaticResource:{attributes:["creativeType"]},Icons:{subElements:["Icon"]},Icon:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"]}};function D(e,t){if(U[e.nodeName]&&U[e.nodeName].attributes){var n=U[e.nodeName].attributes.filter((function(t){return!e.getAttribute(t)}));n.length>0&&M({name:e.nodeName,parentName:e.parentNode.nodeName,attributes:n},t)}}function j(e,t,n){var r=U[e.nodeName],i=!n&&"Wrapper"!==e.nodeName;if(r&&!i){if(r.subElements){var o=r.subElements.filter((function(t){return!C.childByName(e,t)}));o.length>0&&M({name:e.nodeName,parentName:e.parentNode.nodeName,subElements:o},t)}n&&r.oneOfinLineResources&&(r.oneOfinLineResources.some((function(t){return C.childByName(e,t)}))||M({name:e.nodeName,parentName:e.parentNode.nodeName,oneOfResources:r.oneOfinLineResources},t))}}function F(e){return e.children&&0!==e.children.length}function M(e,t){var n=e.name,r=e.parentName,i=e.attributes,o=e.subElements,a=e.oneOfResources,s="Element '".concat(n,"'");t("VAST-warning",{message:s+=i?" missing required attribute(s) '".concat(i.join(", "),"' "):o?" missing required sub element(s) '".concat(o.join(", "),"' "):a?" must provide one of the following '".concat(a.join(", "),"' "):" is empty",parentElement:r,specVersion:4.1})}var B={verifyRequiredValues:function e(t,n,r){if(t&&t.nodeName)if("InLine"===t.nodeName&&(r=!0),D(t,n),F(t)){j(t,n,r);for(var i=0;i<t.children.length;i++)e(t.children[i],n,r)}else 0===C.parseNodeText(t).length&&M({name:t.nodeName,parentName:t.parentNode.nodeName},n)},hasSubElements:F,emitMissingValueWarning:M,verifyRequiredAttributes:D,verifyRequiredSubElements:j};function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.allowMultipleAds,i=n.followAdditionalWrappers,o=e.childNodes;for(var a in o){var s=o[a];if(-1!==["Wrapper","InLine"].indexOf(s.nodeName)&&("Wrapper"!==s.nodeName||!1!==i)){if(C.copyNodeAttribute("id",e,s),C.copyNodeAttribute("sequence",e,s),C.copyNodeAttribute("adType",e,s),"Wrapper"===s.nodeName)return{ad:H(s,t),type:"WRAPPER"};if("InLine"===s.nodeName)return{ad:z(s,t,{allowMultipleAds:r}),type:"INLINE"}}}}function z(e,t){return!1===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allowMultipleAds&&e.getAttribute("sequence")?null:q(e,t)}function q(e,t){t&&B.verifyRequiredValues(e,t);var n=e.childNodes,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,sequence:e.sequence||null,adType:e.adType||null,adServingId:null,categories:[],expires:null,viewableImpression:{},system:null,title:null,description:null,advertiser:null,pricing:null,survey:null,errorURLTemplates:[],impressionURLTemplates:[],creatives:[],extensions:[],adVerifications:[],blockedAdCategories:[],followAdditionalWrappers:!0,allowMultipleAds:!1,fallbackOnNoAd:null}}(C.parseAttributes(e));for(var i in n){var o=n[i];switch(o.nodeName){case"Error":r.errorURLTemplates.push(C.parseNodeText(o));break;case"Impression":r.impressionURLTemplates.push({id:o.getAttribute("id")||null,url:C.parseNodeText(o)});break;case"Creatives":r.creatives=P(C.childrenByName(o,"Creative"));break;case"Extensions":var a=C.childrenByName(o,"Extension");r.extensions=N(a),r.adVerifications.length||(r.adVerifications=Y(a));break;case"AdVerifications":r.adVerifications=G(C.childrenByName(o,"Verification"));break;case"AdSystem":r.system={value:C.parseNodeText(o),version:o.getAttribute("version")||null};break;case"AdTitle":r.title=C.parseNodeText(o);break;case"AdServingId":r.adServingId=C.parseNodeText(o);break;case"Category":r.categories.push({authority:o.getAttribute("authority")||null,value:C.parseNodeText(o)});break;case"Expires":r.expires=parseInt(C.parseNodeText(o),10);break;case"ViewableImpression":r.viewableImpression=Q(o);break;case"Description":r.description=C.parseNodeText(o);break;case"Advertiser":r.advertiser={id:o.getAttribute("id")||null,value:C.parseNodeText(o)};break;case"Pricing":r.pricing={value:C.parseNodeText(o),model:o.getAttribute("model")||null,currency:o.getAttribute("currency")||null};break;case"Survey":r.survey=C.parseNodeText(o);break;case"BlockedAdCategories":r.blockedAdCategories.push({authority:o.getAttribute("authority")||null,value:C.parseNodeText(o)})}}return r}function H(e,t){var n=q(e,t),r=e.getAttribute("followAdditionalWrappers"),i=e.getAttribute("allowMultipleAds"),o=e.getAttribute("fallbackOnNoAd");n.followAdditionalWrappers=!r||C.parseBoolean(r),n.allowMultipleAds=!!i&&C.parseBoolean(i),n.fallbackOnNoAd=o?C.parseBoolean(o):null;var a=C.childByName(e,"VASTAdTagURI");if(a?n.nextWrapperURL=C.parseNodeText(a):(a=C.childByName(e,"VASTAdTagURL"))&&(n.nextWrapperURL=C.parseNodeText(C.childByName(a,"URL"))),n.creatives.forEach((function(e){if(-1!==["linear","nonlinear"].indexOf(e.type)){if(e.trackingEvents){n.trackingEvents||(n.trackingEvents={}),n.trackingEvents[e.type]||(n.trackingEvents[e.type]={});var t=function(t){var r=e.trackingEvents[t];Array.isArray(n.trackingEvents[e.type][t])||(n.trackingEvents[e.type][t]=[]),r.forEach((function(r){n.trackingEvents[e.type][t].push(r)}))};for(var r in e.trackingEvents)t(r)}e.videoClickTrackingURLTemplates&&(Array.isArray(n.videoClickTrackingURLTemplates)||(n.videoClickTrackingURLTemplates=[]),e.videoClickTrackingURLTemplates.forEach((function(e){n.videoClickTrackingURLTemplates.push(e)}))),e.videoClickThroughURLTemplate&&(n.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate),e.videoCustomClickURLTemplates&&(Array.isArray(n.videoCustomClickURLTemplates)||(n.videoCustomClickURLTemplates=[]),e.videoCustomClickURLTemplates.forEach((function(e){n.videoCustomClickURLTemplates.push(e)})))}})),n.nextWrapperURL)return n}function G(e){var t=[];return e.forEach((function(e){var n={resource:null,vendor:null,browserOptional:!1,apiFramework:null,type:null,parameters:null,trackingEvents:{}},r=e.childNodes;for(var i in C.assignAttributes(e.attributes,n),r){var o=r[i];switch(o.nodeName){case"JavaScriptResource":case"ExecutableResource":n.resource=C.parseNodeText(o),C.assignAttributes(o.attributes,n);break;case"VerificationParameters":n.parameters=C.parseNodeText(o)}}var a=C.childByName(e,"TrackingEvents");a&&C.childrenByName(a,"Tracking").forEach((function(e){var t=e.getAttribute("event"),r=C.parseNodeText(e);t&&r&&(Array.isArray(n.trackingEvents[t])||(n.trackingEvents[t]=[]),n.trackingEvents[t].push(r))})),t.push(n)})),t}function Y(e){var t=null,n=[];return e.some((function(e){return t=C.childByName(e,"AdVerifications")})),t&&(n=G(C.childrenByName(t,"Verification"))),n}function Q(e){var t={};t.id=e.getAttribute("id")||null;var n=e.childNodes;for(var r in n){var i=n[r],o=i.nodeName,a=C.parseNodeText(i);if(("Viewable"===o||"NotViewable"===o||"ViewUndetermined"===o)&&a){var s=o.toLowerCase();Array.isArray(t[s])||(t[s]=[]),t[s].push(a)}}return t}var X=function(){function e(){r(this,e),this._handlers=[]}return o(e,[{key:"on",value:function(e,n){if("function"!=typeof n)throw new TypeError("The handler argument must be of type Function. Received type ".concat(t(n)));if(!e)throw new TypeError("The event argument must be of type String. Received type ".concat(t(e)));return this._handlers.push({event:e,handler:n}),this}},{key:"once",value:function(e,t){return this.on(e,function(e,t,n){var r={fired:!1,wrapFn:void 0};function i(){r.fired||(e.off(t,r.wrapFn),r.fired=!0,n.bind(e).apply(void 0,arguments))}return r.wrapFn=i,i}(this,e,t))}},{key:"off",value:function(e,t){return this._handlers=this._handlers.filter((function(n){return n.event!==e||n.handler!==t})),this}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=!1;return this._handlers.forEach((function(t){"*"===t.event&&(i=!0,t.handler.apply(t,[e].concat(n))),t.event===e&&(i=!0,t.handler.apply(t,n))})),i}},{key:"removeAllListeners",value:function(e){return e?(this._handlers=this._handlers.filter((function(t){return t.event!==e})),this):(this._handlers=[],this)}},{key:"listenerCount",value:function(e){return this._handlers.filter((function(t){return t.event===e})).length}},{key:"listeners",value:function(e){return this._handlers.reduce((function(t,n){return n.event===e&&t.push(n.handler),t}),[])}},{key:"eventNames",value:function(){return this._handlers.map((function(e){return e.event}))}}]),e}(),$={get:function(e,t,n){n(new Error("Please bundle the library for node to use the node urlHandler"))}},K=12e4;function J(){try{var e=new window.XMLHttpRequest;return"withCredentials"in e?e:null}catch(e){return null}}function Z(e,t,n){var r=n?408:e.status,i=n?"XHRURLHandler: Request timed out after ".concat(e.timeout," ms (").concat(r,")"):"XHRURLHandler: ".concat(e.statusText," (").concat(r,")");t(new Error(i),null,{statusCode:r})}var ee={get:function(e,t,n){if("https:"===window.location.protocol&&0===e.indexOf("http://"))return n(new Error("XHRURLHandler: Cannot go from HTTPS to HTTP."));try{var r=J();r.open("GET",e),r.timeout=t.timeout||K,r.withCredentials=t.withCredentials||!1,r.overrideMimeType&&r.overrideMimeType("text/xml"),r.onload=function(){return function(e,t){200===e.status?t(null,e.responseXML,{byteLength:e.response.length,statusCode:e.status}):Z(e,t,!1)}(r,n)},r.onerror=function(){return Z(r,n,!1)},r.onabort=function(){return Z(r,n,!1)},r.ontimeout=function(){return Z(r,n,!0)},r.send()}catch(e){n(new Error("XHRURLHandler: Unexpected error"))}},supported:function(){return!!J()}},te={get:function(e,t,n){return n||("function"==typeof t&&(n=t),t={}),"undefined"==typeof window||null===window?$.get(e,t,n):ee.supported()?ee.get(e,t,n):n(new Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))}},ne={ERRORCODE:900,extensions:[]},re=function(e){u(n,e);var t=h(n);function n(){var e;return r(this,n),(e=t.call(this)).remainingAds=[],e.parentURLs=[],e.errorURLTemplates=[],e.rootErrorURLTemplates=[],e.maxWrapperDepth=null,e.URLTemplateFilters=[],e.fetchingOptions={},e.parsingOptions={},e}return o(n,[{key:"addURLTemplateFilter",value:function(e){"function"==typeof e&&this.URLTemplateFilters.push(e)}},{key:"removeURLTemplateFilter",value:function(){this.URLTemplateFilters.pop()}},{key:"countURLTemplateFilters",value:function(){return this.URLTemplateFilters.length}},{key:"clearURLTemplateFilters",value:function(){this.URLTemplateFilters=[]}},{key:"trackVastError",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.emit("VAST-error",Object.assign.apply(Object,[{},ne,t].concat(r))),S.track(e,t)}},{key:"getErrorURLTemplates",value:function(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}},{key:"fetchVAST",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(i,o){t.URLTemplateFilters.forEach((function(t){e=t(e)})),t.parentURLs.push(e);var a=Date.now();t.emit("VAST-resolving",{url:e,previousUrl:r,wrapperDepth:n,maxWrapperDepth:t.maxWrapperDepth,timeout:t.fetchingOptions.timeout}),t.urlHandler.get(e,t.fetchingOptions,(function(s,c){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=Math.round(Date.now()-a),d=Object.assign({url:e,previousUrl:r,wrapperDepth:n,error:s,duration:l},u);t.emit("VAST-resolved",d),s?o(s):i(c)}))}))}},{key:"initParsingStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.errorURLTemplates=[],this.fetchingOptions={timeout:e.timeout||K,withCredentials:e.withCredentials},this.maxWrapperDepth=e.wrapperLimit||10,this.parentURLs=[],this.parsingOptions={allowMultipleAds:e.allowMultipleAds},this.remainingAds=[],this.rootErrorURLTemplates=[],this.rootURL="",this.urlHandler=e.urlHandler||e.urlhandler||te,this.vastVersion=null}},{key:"getRemainingAds",value:function(e){var t=this;if(0===this.remainingAds.length)return Promise.reject(new Error("No more ads are available for the given VAST"));var n=e?S.flatten(this.remainingAds):this.remainingAds.shift();return this.errorURLTemplates=[],this.parentURLs=[],this.resolveAds(n,{wrapperDepth:0,url:this.rootURL}).then((function(e){return t.buildVASTResponse(e)}))}},{key:"getAndParseVAST",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.initParsingStatus(n),this.URLTemplateFilters.forEach((function(t){e=t(e)})),this.rootURL=e,this.fetchVAST(e).then((function(r){return n.previousUrl=e,n.isRootVAST=!0,n.url=e,t.parse(r,n).then((function(e){return t.buildVASTResponse(e)}))}))}},{key:"parseVAST",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.initParsingStatus(n),n.isRootVAST=!0,this.parse(e,n).then((function(e){return t.buildVASTResponse(e)}))}},{key:"buildVASTResponse",value:function(e){var t,n={ads:(t={ads:e,errorURLTemplates:this.getErrorURLTemplates(),version:this.vastVersion}).ads||[],errorURLTemplates:t.errorURLTemplates||[],version:t.version||null};return this.completeWrapperResolving(n),n}},{key:"parseVastXml",value:function(e,t){var n=t.isRootVAST,r=void 0!==n&&n,i=t.url,o=void 0===i?null:i,a=t.wrapperDepth,s=void 0===a?0:a,c=t.allowMultipleAds,u=t.followAdditionalWrappers;if(!e||!e.documentElement||"VAST"!==e.documentElement.nodeName)throw this.emit("VAST-ad-parsed",{type:"ERROR",url:o,wrapperDepth:s}),new Error("Invalid VAST XMLDocument");var l=[],d=e.documentElement.childNodes,f=e.documentElement.getAttribute("version");for(var h in r&&f&&(this.vastVersion=f),d){var p=d[h];if("Error"===p.nodeName){var v=C.parseNodeText(p);r?this.rootErrorURLTemplates.push(v):this.errorURLTemplates.push(v)}else if("Ad"===p.nodeName){if(this.vastVersion&&parseFloat(this.vastVersion)<3)c=!0;else if(!1===c&&l.length>1)break;var m=W(p,this.emit.bind(this),{allowMultipleAds:c,followAdditionalWrappers:u});m.ad?(l.push(m.ad),this.emit("VAST-ad-parsed",{type:m.type,url:o,wrapperDepth:s,adIndex:l.length-1,vastVersion:f})):this.trackVastError(this.getErrorURLTemplates(),{ERRORCODE:101})}}return l}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.url,r=void 0===n?null:n,i=t.resolveAll,o=void 0===i||i,a=t.wrapperSequence,s=void 0===a?null:a,c=t.previousUrl,u=void 0===c?null:c,l=t.wrapperDepth,d=void 0===l?0:l,f=t.isRootVAST,h=void 0!==f&&f,p=t.followAdditionalWrappers,v=t.allowMultipleAds,m=[];this.vastVersion&&parseFloat(this.vastVersion)<3&&h&&(v=!0);try{m=this.parseVastXml(e,{isRootVAST:h,url:r,wrapperDepth:d,allowMultipleAds:v,followAdditionalWrappers:p})}catch(e){return Promise.reject(e)}return 1===m.length&&null!=s&&(m[0].sequence=s),!1===o&&(this.remainingAds=C.splitVAST(m),m=this.remainingAds.shift()),this.resolveAds(m,{wrapperDepth:d,previousUrl:u,url:r})}},{key:"resolveAds",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=n.wrapperDepth,i=n.previousUrl,o=n.url,a=[];return i=o,t.forEach((function(t){var n=e.resolveWrappers(t,r,i);a.push(n)})),Promise.all(a).then((function(t){var n=S.flatten(t);if(!n&&e.remainingAds.length>0){var a=e.remainingAds.shift();return e.resolveAds(a,{wrapperDepth:r,previousUrl:i,url:o})}return n}))}},{key:"resolveWrappers",value:function(e,t,n){var r=this;return new Promise((function(i){var o;if(t++,!e.nextWrapperURL)return delete e.nextWrapperURL,i(e);if(t>=r.maxWrapperDepth||-1!==r.parentURLs.indexOf(e.nextWrapperURL))return e.errorCode=302,delete e.nextWrapperURL,i(e);e.nextWrapperURL=C.resolveVastAdTagURI(e.nextWrapperURL,n),r.URLTemplateFilters.forEach((function(t){e.nextWrapperURL=t(e.nextWrapperURL)}));var a=null!==(o=r.parsingOptions.allowMultipleAds)&&void 0!==o?o:e.allowMultipleAds,s=e.sequence;r.fetchVAST(e.nextWrapperURL,t,n).then((function(o){return r.parse(o,{url:e.nextWrapperURL,previousUrl:n,wrapperSequence:s,wrapperDepth:t,followAdditionalWrappers:e.followAdditionalWrappers,allowMultipleAds:a}).then((function(t){if(delete e.nextWrapperURL,0===t.length)return e.creatives=[],i(e);t.forEach((function(t){t&&C.mergeWrapperAdData(t,e)})),i(t)}))})).catch((function(t){e.errorCode=301,e.errorMessage=t.message,i(e)}))}))}},{key:"completeWrapperResolving",value:function(e){if(0===e.ads.length)this.trackVastError(e.errorURLTemplates,{ERRORCODE:303});else for(var t=e.ads.length-1;t>=0;t--){var n=e.ads[t];(n.errorCode||0===n.creatives.length)&&(this.trackVastError(n.errorURLTemplates.concat(e.errorURLTemplates),{ERRORCODE:n.errorCode||303},{ERRORMESSAGE:n.errorMessage||""},{extensions:n.extensions},{system:n.system}),e.ads.splice(t,1))}}}]),n}(X),ie=null,oe={data:{},length:0,getItem:function(e){return this.data[e]},setItem:function(e,t){this.data[e]=t,this.length=Object.keys(this.data).length},removeItem:function(e){delete this.data[e],this.length=Object.keys(this.data).length},clear:function(){this.data={},this.length=0}},ae=function(){function e(){r(this,e),this.storage=this.initStorage()}return o(e,[{key:"initStorage",value:function(){if(ie)return ie;try{ie="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(e){ie=null}return ie&&!this.isStorageDisabled(ie)||(ie=oe).clear(),ie}},{key:"isStorageDisabled",value:function(e){var t="__VASTStorage__";try{if(e.setItem(t,t),e.getItem(t)!==t)return e.removeItem(t),!0}catch(e){return!0}return e.removeItem(t),!1}},{key:"getItem",value:function(e){return this.storage.getItem(e)}},{key:"setItem",value:function(e,t){return this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){return this.storage.removeItem(e)}},{key:"clear",value:function(){return this.storage.clear()}}]),e}(),se=function(){function e(t,n,i){r(this,e),this.cappingFreeLunch=t||0,this.cappingMinimumTimeInterval=n||0,this.defaultOptions={withCredentials:!1,timeout:0},this.vastParser=new re,this.storage=i||new ae,void 0===this.lastSuccessfulAd&&(this.lastSuccessfulAd=0),void 0===this.totalCalls&&(this.totalCalls=0),void 0===this.totalCallsTimeout&&(this.totalCallsTimeout=0)}return o(e,[{key:"getParser",value:function(){return this.vastParser}},{key:"hasRemainingAds",value:function(){return this.vastParser.remainingAds.length>0}},{key:"getNextAds",value:function(e){return this.vastParser.getRemainingAds(e)}},{key:"get",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Date.now();return(n=Object.assign({},this.defaultOptions,n)).hasOwnProperty("resolveAll")||(n.resolveAll=!1),this.totalCallsTimeout<r?(this.totalCalls=1,this.totalCallsTimeout=r+36e5):this.totalCalls++,new Promise((function(i,o){if(t.cappingFreeLunch>=t.totalCalls)return o(new Error("VAST call canceled â FreeLunch capping not reached yet ".concat(t.totalCalls,"/").concat(t.cappingFreeLunch)));var a=r-t.lastSuccessfulAd;if(a<0)t.lastSuccessfulAd=0;else if(a<t.cappingMinimumTimeInterval)return o(new Error("VAST call canceled â (".concat(t.cappingMinimumTimeInterval,")ms minimum interval reached")));t.vastParser.getAndParseVAST(e,n).then((function(e){return i(e)})).catch((function(e){return o(e)}))}))}},{key:"lastSuccessfulAd",get:function(){return this.storage.getItem("vast-client-last-successful-ad")},set:function(e){this.storage.setItem("vast-client-last-successful-ad",e)}},{key:"totalCalls",get:function(){return this.storage.getItem("vast-client-total-calls")},set:function(e){this.storage.setItem("vast-client-total-calls",e)}},{key:"totalCallsTimeout",get:function(){return this.storage.getItem("vast-client-total-calls-timeout")},set:function(e){this.storage.setItem("vast-client-total-calls-timeout",e)}}]),e}(),ce=function(e){u(n,e);var t=h(n);function n(e,i,o){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;for(var c in r(this,n),(a=t.call(this)).ad=i,a.creative=o,a.variation=s,a.muted=!1,a.impressed=!1,a.skippable=!1,a.trackingEvents={},a.lastPercentage=0,a._alreadyTriggeredQuartiles={},a.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],a.creative.trackingEvents){var u=a.creative.trackingEvents[c];a.trackingEvents[c]=u.slice(0)}return L(a.creative)?a._initLinearTracking():a._initVariationTracking(),e&&a.on("start",(function(){e.lastSuccessfulAd=Date.now()})),a}return o(n,[{key:"_initLinearTracking",value:function(){this.linear=!0,this.skipDelay=this.creative.skipDelay,this.setDuration(this.creative.duration),this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates}},{key:"_initVariationTracking",value:function(){if(this.linear=!1,this.skipDelay=-1,this.variation){for(var e in this.variation.trackingEvents){var t=this.variation.trackingEvents[e];this.trackingEvents[e]?this.trackingEvents[e]=this.trackingEvents[e].concat(t.slice(0)):this.trackingEvents[e]=t.slice(0)}"nonLinearAd"===this.variation.adType?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates,this.setDuration(this.variation.minSuggestedDuration)):function(e){return"companionAd"===e.adType}(this.variation)&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates)}}},{key:"setDuration",value:function(e){this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}}},{key:"setProgress",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.skipDelay||-1;if(-1===r||this.skippable||(r>e?this.emit("skip-countdown",r-e):(this.skippable=!0,this.emit("skip-countdown",0))),this.assetDuration>0){var i=Math.round(e/this.assetDuration*100),o=[];if(e>0){o.push("start");for(var a=this.lastPercentage;a<i;a++)o.push("progress-".concat(a+1,"%"));for(var s in o.push("progress-".concat(Math.round(e))),this.quartiles)this.isQuartileReached(s,this.quartiles[s],e)&&(o.push(s),this._alreadyTriggeredQuartiles[s]=!0);this.lastPercentage=i}o.forEach((function(e){t.track(e,{macros:n,once:!0})})),e<this.progress&&this.track("rewind",{macros:n})}this.progress=e}},{key:"isQuartileReached",value:function(e,t,n){var r=!1;return t<=n&&!this._alreadyTriggeredQuartiles[e]&&(r=!0),r}},{key:"setMuted",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.muted!==e&&this.track(e?"mute":"unmute",{macros:t}),this.muted=e}},{key:"setPaused",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.paused!==e&&this.track(e?"pause":"resume",{macros:t}),this.paused=e}},{key:"setFullscreen",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen",{macros:t}),this.fullscreen=e}},{key:"setExpand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.expanded!==e&&(this.track(e?"expand":"collapse",{macros:t}),this.track(e?"playerExpand":"playerCollapse",{macros:t})),this.expanded=e}},{key:"setSkipDelay",value:function(e){"number"==typeof e&&(this.skipDelay=e)}},{key:"trackImpression",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.impressed||(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates,e),this.track("creativeView",{macros:e}))}},{key:"error",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.trackURLs(this.ad.errorURLTemplates,e,{isCustomCode:t})}},{key:"errorWithCode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.error({ERRORCODE:e},t),console.log("The method errorWithCode is deprecated, please use vast tracker error method instead")}},{key:"complete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("complete",{macros:e})}},{key:"notUsed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("notUsed",{macros:e}),this.trackingEvents=[]}},{key:"otherAdInteraction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("otherAdInteraction",{macros:e})}},{key:"acceptInvitation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("acceptInvitation",{macros:e})}},{key:"adExpand",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("adExpand",{macros:e})}},{key:"adCollapse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("adCollapse",{macros:e})}},{key:"minimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("minimize",{macros:e})}},{key:"verificationNotExecuted",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.ad||!this.ad.adVerifications||!this.ad.adVerifications.length)throw new Error("No adVerifications provided");if(!e)throw new Error("No vendor provided, unable to find associated verificationNotExecuted");var n=this.ad.adVerifications.find((function(t){return t.vendor===e}));if(!n)throw new Error("No associated verification element found for vendor: ".concat(e));var r=n.trackingEvents;if(r&&r.verificationNotExecuted){var i=r.verificationNotExecuted;this.trackURLs(i,t),this.emit("verificationNotExecuted",{trackingURLTemplates:i})}}},{key:"overlayViewDuration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.ADPLAYHEAD=e,this.track("overlayViewDuration",{macros:t})}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track(this.linear?"closeLinear":"close",{macros:e})}},{key:"skip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("skip",{macros:e})}},{key:"load",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("loaded",{macros:e})}},{key:"click",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.clickTrackingURLTemplates&&this.clickTrackingURLTemplates.length&&this.trackURLs(this.clickTrackingURLTemplates,t);var n=this.clickThroughURLTemplate||e,r=c({},t);if(n){this.progress&&(r.ADPLAYHEAD=this.progressFormatted());var i=S.resolveURLTemplates([n],r)[0];this.emit("clickthrough",i)}}},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.macros,r=void 0===n?{}:n,i=t.once,o=void 0!==i&&i;"closeLinear"===e&&!this.trackingEvents[e]&&this.trackingEvents.close&&(e="close");var a=this.trackingEvents[e],s=this.emitAlwaysEvents.indexOf(e)>-1;a?(this.emit(e,{trackingURLTemplates:a}),this.trackURLs(a,r)):s&&this.emit(e,null),o&&(delete this.trackingEvents[e],s&&this.emitAlwaysEvents.splice(this.emitAlwaysEvents.indexOf(e),1))}},{key:"trackURLs",value:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=c({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});this.linear&&(this.creative&&this.creative.mediaFiles&&this.creative.mediaFiles[0]&&this.creative.mediaFiles[0].fileURL&&(n.ASSETURI=this.creative.mediaFiles[0].fileURL),this.progress&&(n.ADPLAYHEAD=this.progressFormatted())),this.creative&&this.creative.universalAdId&&this.creative.universalAdId.idRegistry&&this.creative.universalAdId.value&&(n.UNIVERSALADID="".concat(this.creative.universalAdId.idRegistry," ").concat(this.creative.universalAdId.value)),this.ad&&(this.ad.sequence&&(n.PODSEQUENCE=this.ad.sequence),this.ad.adType&&(n.ADTYPE=this.ad.adType),this.ad.adServingId&&(n.ADSERVINGID=this.ad.adServingId),this.ad.categories&&this.ad.categories.length&&(n.ADCATEGORIES=this.ad.categories.map((function(e){return e.value})).join(",")),this.ad.blockedAdCategories&&this.ad.blockedAdCategories.length&&(n.BLOCKEDADCATEGORIES=this.ad.blockedAdCategories)),S.track(e,n,t)}},{key:"convertToTimecode",value:function(e){var t=1e3*e,n=Math.floor(t/36e5),r=Math.floor(t/6e4%60),i=Math.floor(t/1e3%60),o=Math.floor(t%1e3);return"".concat(S.leftpad(n,2),":").concat(S.leftpad(r,2),":").concat(S.leftpad(i,2),".").concat(S.leftpad(o,3))}},{key:"progressFormatted",value:function(){return this.convertToTimecode(this.progress)}}]),n}(X);e.VASTClient=se,e.VASTParser=re,e.VASTTracker=ce,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));function Ms(e){return e.handshakeVersion&&"function"==typeof e.handshakeVersion&&e.initAd&&"function"==typeof e.initAd&&e.startAd&&"function"==typeof e.startAd&&e.stopAd&&"function"==typeof e.stopAd&&e.skipAd&&"function"==typeof e.skipAd&&e.resizeAd&&"function"==typeof e.resizeAd&&e.pauseAd&&"function"==typeof e.pauseAd&&e.resumeAd&&"function"==typeof e.resumeAd&&e.expandAd&&"function"==typeof e.expandAd&&e.collapseAd&&"function"==typeof e.collapseAd&&e.subscribe&&"function"==typeof e.subscribe&&e.unsubscribe&&"function"==typeof e.unsubscribe}function Bs(e){var t=Math.floor(e/60),n=Math.floor(e%60);return isNaN(t)||isNaN(n)?"":"".concat(t,":").concat(n<10?"0".concat(n):n)}function Ws(){var e={AdStarted:this.onStartAd,AdStopped:this.onStopAd,AdSkipped:this.onSkipAd,AdLoaded:this.onAdLoaded,AdLinearChange:this.onAdLinearChange,AdSizeChange:this.onAdSizeChange,AdExpandedChange:this.onAdExpandedChange,AdSkippableStateChange:this.onAdSkippableStateChange,AdDurationChange:this.onAdDurationChange,AdRemainingTimeChange:this.onAdRemainingTimeChange,AdVolumeChange:this.onAdVolumeChange,AdImpression:this.onAdImpression,AdClickThru:this.onAdClickThru,AdInteraction:this.onAdInteraction,AdVideoStart:this.onAdVideoStart,AdVideoFirstQuartile:this.onAdVideoFirstQuartile,AdVideoMidpoint:this.onAdVideoMidpoint,AdVideoThirdQuartile:this.onAdVideoThirdQuartile,AdVideoComplete:this.onAdVideoComplete,AdUserAcceptInvitation:this.onAdUserAcceptInvitation,AdUserMinimize:this.onAdUserMinimize,AdUserClose:this.onAdUserClose,AdPaused:this.onAdPaused,AdPlaying:this.onAdPlaying,AdError:this.onAdError,AdLog:this.onAdLog};for(var t in e){var n=e[t];this._creative.subscribe(n,t,this)}}var zs=function(){function e(t){var n=this,r=t.VPAIDCreative,i=t.emitter,a=t.dimensions,c=a.width,u=a.height,l=t.creativeVersion,d=t.VASTTracker;if(o(this,e),s(this,"__checkVPAIDInterface",Ms),s(this,"__setCallbacksForCreative",Ws),s(this,"initAd",(function(e,t,r,i,o,a){var s;null===(s=n._creative)||void 0===s||s.initAd(e,t,r,i,o,a),n.setAdVolume(0)})),s(this,"checkProgress",(function(){var e,t,r=null===(e=n._creative)||void 0===e?void 0:e.getAdRemainingTime(),i=null===(t=n._creative)||void 0===t?void 0:t.getAdDuration(),o=i-r,a=Bs(i),s={remainingTime:r,fancyCurrentTime:Bs(o),fancyDuration:a,duration:i,currentTime:o};n.currentTime=o,n.emitter.emit(da,s),n.VASTTracker.setProgress(o)})),this._creative=r,this.emitter=i,!this.__checkVPAIDInterface(r))return console.log("GgEzVp [WARN]: The VPAIDCreative doesn't conform to the VPAID spec"),void d.error({ERRORCODE:901});this.VASTTracker=d,this.__setCallbacksForCreative(),this.emitter.on(Aa,this.skipAd),this.emitter.on(Sa,(function(e){var t=e?[window.screen.width,window.screen.height,"fullscreen"]:[c,u,"thumbnail"];if(parseFloat(l)<2)return n.stopAd();n.expandAd.apply(n,t)})),window.onbeforeunload=function(){d.close()}}var t,n,r;return t=e,(n=[{key:"startAd",value:function(){var e;this.emitter.emit(ga),null===(e=this._creative)||void 0===e||e.startAd()}},{key:"stopAd",value:function(){var e;null===(e=this._creative)||void 0===e||e.stopAd()}},{key:"getAdLinear",value:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdLinear()}},{key:"getAdRemainingTime",value:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdRemainingTime()}},{key:"getAdExpanded",value:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdExpanded()}},{key:"getAdSkippableState",value:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdSkippableState()}},{key:"skipAd",value:function(){var e;if(this.getAdSkippableState())return null===(e=this._creative)||void 0===e?void 0:e.skipAd()}},{key:"setAdVolume",value:function(e){var t;null===(t=this._creative)||void 0===t||t.setAdVolume(e)}},{key:"getAdVolume",value:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdVolume()}},{key:"getAdDuration",value:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdDuration()}},{key:"resizeAd",value:function(e,t,n){var r;null===(r=this._creative)||void 0===r||r.resizeAd(e,t,n)}},{key:"pauseAd",value:function(){var e;null===(e=this._creative)||void 0===e||e.pauseAd()}},{key:"resumeAd",value:function(){var e;null===(e=this._creative)||void 0===e||e.resumeAd()}},{key:"expandAd",value:function(){var e;null===(e=this._creative)||void 0===e||e.expandAd()}},{key:"collapseAd",value:function(){var e;null===(e=this._creative)||void 0===e||e.collapseAd()}},{key:"onAdPaused",value:function(){this.emitter.emit("AdPaused"),this.emitter.emit("pause"),this.VASTTracker.setPaused(!0)}},{key:"onAdPlaying",value:function(){this.emitter.emit("AdPlaying"),this.emitter.emit("play"),this.VASTTracker.setPaused(!1)}},{key:"onAdError",value:function(e){this.emitter.emit("AdError",e),this.emitter.emit(ma,e),this.VASTTracker.error({ERRORCODE:901})}},{key:"onAdLog",value:function(e){this.emitter.emit("AdLog",e)}},{key:"onAdUserAcceptInvitation",value:function(){this.emitter.emit("AdUserAcceptInvitation")}},{key:"onAdUserMinimize",value:function(){this.emitter.emit("AdUserMinimize")}},{key:"onAdUserClose",value:function(){this.emitter.emit("AdUserClose"),this.VASTTracker.close()}},{key:"onAdSkippableStateChange",value:function(){var e,t=null===(e=this._creative)||void 0===e?void 0:e.getAdSkippableState();this.emitter.emit("AdSkippableStateChange",t)}},{key:"onAdExpandedChange",value:function(){var e,t=null===(e=this._creative)||void 0===e?void 0:e.getAdExpanded();this.emitter.emit("AdExpandedChange",t),this.VASTTracker.setFullscreen(t)}},{key:"onAdSizeChange",value:function(){var e,t,n=null===(e=this._creative)||void 0===e?void 0:e.getAdWidth(),r=null===(t=this._creative)||void 0===t?void 0:t.getAdHeight();this.emitter.emit("AdSizeChange",{width:n,height:r})}},{key:"onAdDurationChange",value:function(){var e,t=null===(e=this._creative)||void 0===e?void 0:e.getAdDuration();this.duration=t,this.emitter.emit("AdDurationChange",t),this.checkProgress(),this.VASTTracker.setDuration(t)}},{key:"onAdRemainingTimeChange",value:function(){this.checkProgress()}},{key:"onAdImpression",value:function(){this.emitter.emit("AdImpression"),this.VASTTracker.trackImpression()}},{key:"onAdClickThru",value:function(e,t,n){var r=this;this.VASTTracker.once("clickthrough",(function(i){var o=e||i,a={url:o,id:t,playerHandles:n};r.emitter.emit(fa,a),n&&window.open(o)})),this.VASTTracker.click(e)}},{key:"onAdInteraction",value:function(e){this.emitter.emit("AdInteraction",e)}},{key:"onAdVideoStart",value:function(){this.emitter.emit("play"),this.emitter.emit("AdVideoStart")}},{key:"onAdVideoFirstQuartile",value:function(){this.emitter.emit("AdVideoFirstQuartile"),this.checkProgress()}},{key:"onAdVideoMidpoint",value:function(){this.emitter.emit("AdVideoMidpoint"),this.checkProgress()}},{key:"onAdVideoThirdQuartile",value:function(){this.emitter.emit("AdVideoThirdQuartile"),this.checkProgress()}},{key:"onAdVideoComplete",value:function(){this.emitter.emit("AdVideoComplete"),this.checkProgress(),this.VASTTracker.complete()}},{key:"onAdLinearChange",value:function(){var e,t=null===(e=this._creative)||void 0===e?void 0:e.getAdLinear();this.emitter.emit("AdLinearChange",t)}},{key:"onAdLoaded",value:function(){this.emitter.emit("AdLoaded"),this.emitter.emit(la)}},{key:"onStartAd",value:function(){this.emitter.emit("AdStarted")}},{key:"onStopAd",value:function(){this.emitter.emit("ended"),this.emitter.emit("AdStopped")}},{key:"onSkipAd",value:function(){this.emitter.emit("AdSkipped"),this.VASTTracker.skip()}},{key:"onAdVolumeChange",value:function(){var e,t=null===(e=this._creative)||void 0===e?void 0:e.getAdVolume(),n=0==t;this.emitter.emit("AdVolumeChange",t),this.VASTTracker.setMuted(n)}}])&&a(t.prototype,n),r&&a(t,r),e}(),qs=Ts.trim,Hs=A.parseFloat,Gs=1/Hs(vs+"-0")!=-1/0?function(e){var t=qs(String(e)),n=Hs(t);return 0===n&&"-"==t.charAt(0)?-0:n}:Hs;Ye({target:"Number",stat:!0,forced:Number.parseFloat!=Gs},{parseFloat:Gs});var Ys=Ve.f,Qs=B.f,Xs=q.f,$s=Ts.trim,Ks="Number",Js=A.Number,Zs=Js.prototype,ec=C(ot(Zs))==Ks,tc=function(e){var t,n,r,i,o,a,s,c,u=I(e,!1);if("string"==typeof u&&u.length>2)if(43===(t=(u=$s(u)).charCodeAt(0))||45===t){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(a=(o=u.slice(2)).length,s=0;s<a;s++)if((c=o.charCodeAt(s))<48||c>i)return NaN;return parseInt(o,r)}return+u};if(He(Ks,!Js(" 0o1")||!Js("0b1")||Js("+0x1"))){for(var nc,rc=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof rc&&(ec?T((function(){Zs.valueOf.call(n)})):C(n)!=Ks)?Ga(new Js(tc(t)),n,rc):tc(t)},ic=b?Ys(Js):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),oc=0;ic.length>oc;oc++)V(Js,nc=ic[oc])&&!V(rc,nc)&&Xs(rc,nc,Qs(Js,nc));rc.prototype=Zs,Zs.constructor=rc,ge(A,Ks,rc)}var ac=Number.parseFloat||parseFloat,sc=ac(Ca);function cc(e){return ac(e)<=sc}var uc="adloaderscript";function lc(e,t){return new Promise((function(n,r){var i=document.createElement("iframe");i.id="adloaderframe_".concat(Date.now()),i.setAttribute("style","border:0px;margin:0px;opacity:1;padding:0px;height:100%;position:absolute;width:100%;top:0;left:0;"),t.appendChild(i);var o=i.contentDocument||i.contentWindow.document;o.open(),o.write('<head><style>body{margin:0}</style></head><body><script id="'.concat(uc,'" src="').concat(e,'" async></scr')+"ipt></body>"),o.close();var a=i.contentWindow.document.getElementById(uc),s=dc(i);if(s)return n({VPAIDCreative:s,iframe:i});a.addEventListener("load",(function(){s=dc(i),n({VPAIDCreative:s,iframe:i})})),a.addEventListener("error",r)}))}function dc(e){var t=e.contentWindow.getVPAIDAd;if(t&&"function"==typeof t)return t()}var fc,hc="normal";function pc(e,t,n,r){return vc.apply(this,arguments)}function vc(){return(vc=i(regeneratorRuntime.mark((function e(t,n,r,i){var o,a,s,c,u,l,d,f,h,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new Fs.VASTTracker(r,i,t),"linear"===t.type?a=t.adParameters:"nonlinear"===t.type&&(a=t.variations[0].adParameters),mc.call(this),e.next=5,lc(n.fileURL,this.playerContainer);case 5:s=e.sent,c=s.VPAIDCreative,u=s.iframe,l=c.handshakeVersion(Ca),d=cc(l),f=this.container,h=f.offsetWidth,p=f.offsetHeight,fc={width:h,height:p},this.VASTTracker=o,d&&(this.VPAIDiframe=u,this.VPAIDWrapper=new zs({VPAIDCreative:c,emitter:this.emitter,dimensions:fc,creativeVersion:l,VASTTracker:o}),"linear"===t.type&&this.__mountVideoElement(),yc.call(this,{adParameters:a}));case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function mc(){var e=this;this.once(la,(function(){e.dataReady=!0,e.__renderControls(),e.__attachStoredListeners(),e.__configureVPAID(),e.__setReadyNextTick()})),this.once("AdSizeChange",(function(t){e.dimensions=t})),this.once(ga,(function(){e.VPAIDStarted=!0,e.VPAIDFinished=!1})),this.once("AdVideoComplete",(function(){e.VPAIDStarted=!1,e.VPAIDFinished=!0,e.dataReady=!1,e.VPAIDWrapper=null,e.VASTData=null})),this.on("AdSizeChange",(function(){e.player.style.width="100%",e.player.style.height="100%"})),new _a(this.container,gc.bind(this))}function gc(){var e,t=this.container,n=t.offsetWidth,r=t.offsetHeight;n&&r&&(null===(e=this.VPAIDWrapper)||void 0===e||e.resizeAd(n,r,hc))}function yc(e){var t,n=e.adParameters,r=this.container,i=r.clientWidth,o=r.clientHeight,a={AdParameters:n},s={slot:this.__slot,videoSlot:this.player,videoSlotCanAutoplay:!0},c=[i,o,hc,void 0,a,s];(t=this.VPAIDWrapper).initAd.apply(t,c)}function Ac(e,t,n){var r=new Fs.VASTTracker(e,t,n);!function(e,t){Object.keys(Tc).forEach((function(n){var r=Tc[n](e);t(n,r)})),window.onbeforeunload=function(){return e.close()}}(r,this.on),this.dataReady=!0,this.VASTTracker=r,this.VASTTracker.on("clickthrough",(function(e){window.top.open(e)})),this.__attachStoredListeners(),this.__renderVideoElement()}var Tc={click:function(e){return function(){return e.click()}},ended:function(e){return function(){return e.complete()}},error:function(e){return function(){return e.error({ERRORCODE:405})}},pause:function(e){return function(){return e.setPaused(!0)}},skip:function(e){return function(){return e.skip()}},play:function(e){return function(){return e.setPaused(!1)}},expand:function(e){return function(t){return e.setFullscreen(t)}},volumechange:function(e){return function(t){return e.setMuted(t.target.muted||!t.target.volume)}},timeupdate:function(e){return function(t){return e.setProgress(t.target.currentTime)}},loadedmetadata:function(e){return function(t){e.trackImpression(),e.setDuration(t.target.duration)}}};function bc(){var e=this.config,t=e.muted,n=e.volume,r=t?0:n;this.VPAIDWrapper.setAdVolume(r)}function kc(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=document.createElement(e),a=Array.isArray(r)?r:[r];null!=a&&a.length&&(t=o.classList).add.apply(t,l(a));return"object"===n(i)&&null!==i&&Object.keys(i).forEach((function(e){var t=i[e];o.setAttribute(e,t)})),o}Ye({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var Ec=Number.isNaN||isNaN,wc=function(e){return function(t){var n=Math.floor(t),r=Ec(n)?"":"Ad ".concat(n);e.innerText=r}};function Sc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";null==e||e.forEach((function(e){(new Image).src="".concat(t,"/icons/").concat(e,".svg")}))}var Rc="mute",Cc="medium",xc="high",Lc=[Rc,"low",Cc,xc];function _c(e){var t,n,r=this,i=this.config,o=i.controls,a=i.volume,s=i.muted,c=!Object.keys(o).some((function(e){return e!==Ta&&o[e]})),u=this.__getCSSClass(Ta),l=kc("div",u),d=this.isVPAID?"AdVolumeChange":"volumechange";c&&this.container.classList.add("".concat(u,"-only"));var f=function(){r.volume(t.value)},h=Nc(s?0:a);Sc(Lc.filter((function(e){return e!==h})).map((function(e){return e===Rc?e:(e===Cc&&(e="med"),"".concat(e,"-volume"))})),this.__baseURL),n=kc("button",[this.__getCSSClass("button-icon"),h],{type:"button"}),this.__nodeOn(n,"click",(function(e){var t;null===(t=e.stopPropagation)||void 0===t||t.call(e),r.muteUnmute()})),l.appendChild(n);var p="".concat(u,"-control"),v=kc("div",p);(t=c?null:kc("input",["".concat(p,"-slider"),this.__getCSSClass("input-range")],Oc))&&(t.value=s?0:a,v.appendChild(t),this.__nodeOn(t,"change",f),this.__nodeOn(t,"input",f)),l.appendChild(v),this.on(d,(function(){var e=r.getVolume(),i=Nc(e);n.classList.remove("mute","low","medium","high"),n.classList.add(i),t&&(t.value=e)})),e.appendChild(l)}var Oc={type:"range",name:"volume",min:"0",max:"1",step:"0.05"},Nc=function(e){var t=parseFloat(e);return 0===t?Rc:t<=.33?"low":t>.33&&t<.66?Cc:xc};function Ic(e){var t=this,n=kc("button",[this.__getCSSClass("button-icon"),Sa],{type:"button"});this.__nodeOn(n,"click",(function(e){var n;null===(n=e.stopPropagation)||void 0===n||n.call(e),t.fullscreenToggle()})),e.appendChild(n)}var Pc="pause",Vc="replay";var Uc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){var r;e&&((r=e.classList).remove.apply(r,l(t)),e.classList.add(n))}};function Dc(){var e=this.container,t=this.config,n=this.__onTouchScreen;if(!this.controlsRendered&&t.controls){var r=t.adControls,i=document.createElement("div");r&&e.classList.add(this.__getCSSClass("no-scrub")),n&&e.classList.add(this.__getCSSClass("touchscreen")),i.classList.add(this.__getCSSClass("controls")),jc.call(this,t,Mc,i),e.appendChild(i),this.controlsRendered=!0}}function jc(e,t,n){var r=this,i=e.controls,o=e.adControls;t.forEach((function(t){var a=t.name,s=t.tagType,c=t.children,u=t.component;if(Fc(t,o,i)){if(s){var l=document.createElement(s),d=r.__getCSSClass(a);l.classList.add(d),null!=c&&c.length&&jc.call(r,e,c,l),n.appendChild(l)}u&&u.call(r,n)}}))}var Fc=function e(t,n,r){var i=t.isAdComponent,o=t.tagType,a=t.children,s=t.component,c=t.name,u=void 0===i||n&&i||!n&&!i,l="bottom"===c,d=r[c];if(!o&&s)return u&&d;var f=null==a?void 0:a.some((function(t){return e(t,n,r)}));return l||u&&f},Mc=[{name:"top",tagType:"div",children:[{name:"item-left",tagType:"div",isAdComponent:!0,children:[{name:ya,component:function(e){var t=this,n=function(){return t.isVPAID?t.VPAIDWrapper.getAdRemainingTime():t.player.duration-t.player.currentTime},r=n(),i=kc("div","".concat(this.__getCSSClass(Ea),"-ad")),o=wc(i);o(r),this.once("loadedmetadata",(function(){var e=n();r||o(e)})),this.on(da,(function(e){var t=e.remainingTime;o(t)})),e.appendChild(i)}},{name:Ta,component:_c}]},{name:"item-right",tagType:"div",isAdComponent:!0,children:[{name:Sa,component:Ic},{name:Aa,component:function(e){var t=this,n=kc("button",this.__getCSSClass("button-skip"),{type:"button"});n.innerText=Aa,this.__nodeOn(n,"click",(function(e){var n;null===(n=e.stopPropagation)||void 0===n||n.call(e),t.emitter.emit(Aa)})),this.container.classList.add(this.__getCSSClass(Aa)),e.appendChild(n)}}]}]},{name:"middle",tagType:"div",children:[{name:ka,component:function(e){var t=this,n=this.__getCSSClass(ka),r=kc("div",n),i=kc("div","".concat(n,"-bar")),o=kc("div","".concat(n,"-filled")),a=!1;this.on(da,(function(e){var t=e.currentTime,n=e.duration;if(!a){var r=Math.floor(100/n*t);o.style.flexBasis="".concat(r,"%")}})),this.config.adControls||(this.__nodeOn(i,"click",(function(e){var n;null===(n=e.stopPropagation)||void 0===n||n.call(e);var r=t.getDuration(),o=e.offsetX/i.offsetWidth*r;t.player.currentTime=o})),this.__nodeOn(i,"mousemove",(function(e){var t=e.offsetX/i.offsetWidth*100;a=!0,o.style.flexBasis="".concat(t,"%")})),this.__nodeOn(i,"mouseleave",(function(){var e=t.getDuration(),n=t.getCurrentTime(),r=Math.floor(100/e*n);a=!1,o.style.flexBasis="".concat(r,"%")}))),i.appendChild(o),r.appendChild(i),e.appendChild(r)}}]},{name:"bottom",tagType:"div",children:[{name:"item-left",tagType:"div",isAdComponent:!1,children:[{name:Ea,component:function(e){var t=this.getCurrentTime(),n=this.getDuration(),r=Bs(t),i=Bs(Math.max(n,0)),o=this.__getCSSClass(Ea),a=kc("div",o),s=r&&i,c=[["current",r],["break",s?"/":""],["total",s?i:""]].map((function(e){var t=u(e,2),n=t[0],r=t[1],i=kc("div","".concat(o,"-").concat(n));return i.innerText=r,a.appendChild(i),i})),l=u(c,3),d=l[0],f=l[1],h=l[2];this.once(da,(function(e){var t=e.fancyDuration;h.innerText=t})),this.on(da,(function(e){var t=e.fancyCurrentTime;d.innerText=t,!f.innerText&&i&&t&&(f.innerText="/")})),e.appendChild(a)}},{name:wa,component:function(e){var t=this,n=kc("button",[this.__getCSSClass("button-icon"),wa],{type:"button"}),r=[Vc,Pc];Sc(r,this.__baseURL),this.__nodeOn(n,"click",(function(e){var n;null===(n=e.stopPropagation)||void 0===n||n.call(e),t.playPause()})),this.on(wa,Uc(n,[Vc,wa],Pc)),this.on(Pc,Uc(n,r,wa)),this.on("ended",Uc(n,[wa,Pc],Vc)),e.appendChild(n)}},{name:Ta,component:_c}]},{name:"item-right",tagType:"div",isAdComponent:!1,children:[{name:Sa,component:Ic}]}]}];function Bc(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?zc.call(this):Wc.call(this,this.container)}function Wc(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen(),this.emitter.emit(Sa,!0)}function zc(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),this.emitter.emit(Sa,!1)}function qc(e){if(e){var t=kc("div",this.__getCSSClass("slot"));this.playerContainer.appendChild(t),this.__slot=t}var n=kc("div",this.__getCSSClass("blocker"));this.container.appendChild(n),this.__blocker=n}function Hc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){var n=La.includes(t.mimeType),r=t.mimeType.includes("audio/"),i=t.mimeType.includes("video/"),o="application/x-mpegURL"===t.mimeType;return e[n?"javascript":r||i||o?"media":"other"].push(t),e}),{javascript:[],media:[],other:[]})}var Gc={"[APIFRAMEWORKS]":2,"[SERVERSIDE]":0};function Yc(e){var t=e;return Object.keys(Gc).forEach((function(e){var n=Gc[e],r="function"==typeof n?n():n;t=t.replace(e,r)})),t}function Qc(e){return Xc.apply(this,arguments)}function Xc(){return(Xc=i(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s,c,u,l,d=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:xa,r=new Fs.VASTClient,i=Yc(t),e.next=5,r.get(i,n);case 5:if(o=e.sent,this.VASTData=o,a=null==o?void 0:o.ads[0],s=null==a?void 0:a.creatives[0]){e.next=11;break}return e.abrupt("return");case 11:if("linear"===s.type?(u=s.mediaFiles,l=Hc(void 0===u?[]:u),this.VASTSources=l,c=l.javascript.find((function(e){return"VPAID"===e.apiFramework}))):"nonlinear"===s.type&&(c={fileURL:null==s?void 0:s.variations[0].staticResource}),qc.call(this,!!c),!c){e.next=16;break}return this.isVPAID=!0,e.abrupt("return",this.__runVPAID(s,c,r,a));case 16:this.__enableVASTTracking(r,a,s);case 17:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var $c="/".concat(ua,".js"),Kc=[la,da,fa,ha,pa,va,ga,Aa,ma];return function e(r){var a=this;o(this,e),s(this,"__getConfig",(function(e){var n,r,i,o,c,u,l=null!=e&&e.adControls?(s(c={},ya,null===(n=null===(r=e.controls)||void 0===r?void 0:r.timestampAd)||void 0===n||n),s(c,Aa,null===(i=null===(o=e.controls)||void 0===o?void 0:o.skip)||void 0===i||i),s(c,Ea,!1),c):(s(u={},ya,Ra.controls.timestampAd),s(u,Aa,Ra.controls.skip),u),d=t(t(t({},Ra),e),{},{controls:!1!==e.controls&&null!==e.controls&&(e.controls?t(t(t({},Ra.controls),e.controls),l):t(t({},Ra.controls),l))});return d.volume=parseFloat(d.volume),a.__prevVol=d.volume,d})),s(this,"__getBaseURL",(function(){var e=[].slice.call(document.getElementsByTagName("script")).filter((function(e){return e.src.includes($c)}));return e[e.length-1].src.replace($c,"")})),s(this,"__init",(function(){try{var e=a.config,t=e.container,r=e.isVAST;if(a.container=(i=t,("object"===("undefined"==typeof HTMLElement?"undefined":n(HTMLElement))?i instanceof HTMLElement:i&&"object"===n(i)&&null!==i&&1===i.nodeType&&"string"==typeof i.nodeName)?t:document.getElementById(t)),a.__validateConfig(),a.__allowIframeFullscreen(),a.container.classList.add(a.__getCSSClass()),a.__nodeOn(window,va,a.__playerResizeListener()),a.playerContainer.appendChild(a.player),a.container.appendChild(a.playerContainer),r)return a.__runVAST();a.on("click",a.__emitPlayerClick),a.__renderVideoElement()}catch(e){console.log("GgEzVp [ERR]:",e)}var i})),s(this,"__allowIframeFullscreen",(function(){window.frameElement&&function(){try{return window.self!==window.top}catch(e){return!0}}()&&window.frameElement.setAttribute("allow","fullscreen")})),s(this,"__getCSSClass",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ua+(e?"--".concat(e):"")})),s(this,"__validateConfig",(function(){var e=a.config,t=e.src,n=e.container,r="";if(t&&("string"==typeof t||Array.isArray(t))||(r="video src should be a string or an array of strings"),a.container||(r="container should be a DOM node or a node's id. Current container: ".concat(n)),r)throw new Error(r)})),s(this,"__mountVideoElement",ca),s(this,"__renderVideoElement",(function(){if(a.__mountVideoElement(),a.__renderControls(),a.on("timeupdate",a.__playbackProgressReporter),a.isVPAID)return a.__setReadyNextTick();a.once("loadedmetadata",(function(){a.emitter.emit(la),a.__setReadyNextTick()}))})),s(this,"__setReadyNextTick",(function(){(requestAnimationFrame||setTimeout)(a.__setReady)})),s(this,"__setReady",(function(){a.ready=!0,a.emitter.emit(pa)})),s(this,"__renderControls",Dc),s(this,"__parseVAST",Qc),s(this,"__enableVASTTracking",Ac),s(this,"__runVPAID",pc),s(this,"__configureVPAID",bc),s(this,"__runVAST",i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.__parseVAST(a.config.src);case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),a.VASTTracker&&a.VASTTracker.error({ERRORCODE:901}),a.emitter.emit(ma,e.t0),console.log("GgEzVp [ERR]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,5]])})))),s(this,"__isInternalEvent",(function(e){return Kc.includes(e)})),s(this,"__nodeOn",(function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];e.addEventListener.apply(e,[t].concat(r));var o=[e,t].concat(r);return a.__nodeListeners.push(o),function(){a.__nodeListeners=a.__nodeListeners.filter((function(e){return e!==o})),e.removeEventListener.apply(e,[t].concat(r))}})),s(this,"__nodeListeners",[]),s(this,"__emitPlayerClick",(function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=a.emitter).emit.apply(e,[fa].concat(n))})),s(this,"__playerResizeListener",(function(){var e=a.player,t=e.offsetWidth,n=e.offsetHeight;return a.dimensions.width=t,a.dimensions.height=n,a.__resizeHandler})),s(this,"__resizeHandler",(function(){var e=a.player,t=e.offsetWidth,n=e.offsetHeight,r=t!==a.dimensions.width,i=n!==a.dimensions.height;if(r||i){var o={width:t,height:n};a.dimensions=o,a.emitter.emit(va,o)}})),s(this,"__playbackProgressReporter",(function(){var e=a.player,t=e.currentTime,n=e.duration,r={remainingTime:n-t,fancyCurrentTime:Bs(t),fancyDuration:Bs(n),duration:n,currentTime:t};a.emitter.emit(da,r)})),s(this,"__removeListeners",(function(){a.emitter.events={},a.__nodeListeners.forEach((function(e){var t,n=d(t=e)||f(t)||h(t)||v(),r=n[0],i=n.slice(1);r.removeEventListener.apply(r,l(i))}))})),s(this,"__listenerStore",{on:[],once:[]}),s(this,"__storeListener",(function(e){return function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===(t=a.__listenerStore)||void 0===t||t[e].push(r)}})),s(this,"__attachStoredListeners",(function(){var e;for(e in a.__listenerStore)a.__listenerStore[e].forEach((function(t){var n=a[e].apply(a,l(t)),r="attaching-".concat(e);a.emitter.emit(r,n)}));a.__listenerStore=null})),s(this,"__shouldStoreListener",(function(e){var t=a.__isInternalEvent(e),n=a.config.isVAST,r=a.dataReady;return!t&&n&&!r})),s(this,"on",(function(e){for(var t=a.isVPAID,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(!a.__shouldStoreListener(e)){var o=t||a.__isInternalEvent(e)?a.emitter.on.apply(a.emitter,[e].concat(r)):a.__nodeOn.apply(a,[a.player,e].concat(r));return o}a.__storeListener("on").apply(void 0,[e].concat(r))})),s(this,"once",(function(e,t){if(!a.__shouldStoreListener(e)){var n=a.on(e,(function(){n();for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t.apply(a,r)}));return n}a.__storeListener("once")(e,t)})),s(this,"dimensions",{width:0,height:0}),s(this,"play",(function(){var e=a.isVPAID,t=a.VPAIDStarted,n=a.VPAIDWrapper;if(e)return t?null==n?void 0:n.resumeAd():null==n?void 0:n.startAd();a.player.play()})),s(this,"pause",(function(){var e=a.isVPAID,t=a.VPAIDWrapper;if(e)return null==t?void 0:t.pauseAd();a.player.pause()})),s(this,"playPause",(function(){return a.isVPAID&&a.VPAIDFinished?a.__runVAST():a.player.paused?a.play():a.pause()})),s(this,"volume",(function(e){var t=a.isVPAID,n=a.VPAIDWrapper,r=Math.min(Math.max(e,0),1);if(a.player.muted=!r,t)return a.dataReady?null==n?void 0:n.setAdVolume(r):0;a.player.volume=r})),s(this,"mute",(function(){a.__prevVol=a.getVolume()||a.config.volume||1,a.volume(0),a.muted=!0})),s(this,"unmute",(function(){var e=a.__prevVol||a.config.volume||1;a.volume(e),a.muted=!1})),s(this,"muteUnmute",(function(){return a.getVolume()?a.mute():a.unmute()})),s(this,"getVolume",(function(){var e;return a.isVPAID?a.dataReady?null===(e=a.VPAIDWrapper)||void 0===e?void 0:e.getAdVolume():0:a.player.muted?0:a.player.volume})),s(this,"getDuration",(function(){var e,t;a.isVPAID?e=a.VPAIDFinished?a.duration:a.dataReady&&(null===(t=a.VPAIDWrapper)||void 0===t?void 0:t.getAdDuration()):e=a.player.duration;return a.duration=e,e||0})),s(this,"getCurrentTime",(function(){var e;return a.isVPAID?a.VPAIDFinished?a.duration:null===(e=a.VPAIDWrapper)||void 0===e?void 0:e.currentTime:a.player.currentTime})),s(this,"fullscreenToggle",Bc),s(this,"destroy",(function(){a.emitter.emit(ha),a.pause(),a.__removeListeners(),a.container.innerHTML=""})),this.emitter={events:{},emit:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(this.events[e]||[]).forEach((function(e){return e.apply(void 0,n)}))},on:function(e,t){var n=this;return(this.events[e]=this.events[e]||[]).push(t),function(){return n.events[e]=(n.events[e]||[]).filter((function(e){return e!==t}))}}},this.ready=!1,this.dataReady=!1,this.isFullscreen=!1,this.config=this.__getConfig(r),this.playerContainer=kc("div",this.__getCSSClass("player-container")),this.player=kc("video",this.__getCSSClass("viewer")),this.player.muted=!0,this.VASTData=null,this.VPAIDWrapper=null,this.controlsRendered=!1,this.__onTouchScreen=function(){var e=!1;if("maxTouchPoints"in navigator)e=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)e=navigator.msMaxTouchPoints>0;else{var t=window.matchMedia&&matchMedia("(pointer:coarse)");if(t&&"(pointer:coarse)"===t.media)e=!!t.matches;else if("orientation"in window)e=!0;else{var n=navigator.userAgent;e=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(n)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(n)}}return e}(),this.__baseURL=this.__getBaseURL(),this.__init()}}));
//# sourceMappingURL=gg-ez-vp.js.map
