MaxPreps.UI.AthletePages=Class.create({initialize:function(b,a){this.careerId=b;this.pageParams=a},documentLoaded:function(a){}});MaxPreps.UI.Carosel.AsideCarosel=Class.create(MaxPreps.UI.Carosel,{click:function($super,g){if(!document.loaded||!g.isLeftClick()){return}if(g.findElement(this.clickSelectorValidator)==null){return}var c=g.element();if(c.up(".read-more-toggle")!=null&&c.nodeName==="A"){var j=g.findElement(".mx-carosel"),m=g.findElement(".item");this.initCarosel(j);if(c.up().hasClassName("read-more")){c.up().hide().next().show()}else{c.up().hide().previous().show()}var h=j.down(".slide").select(".item");for(var d=0,b=h.length;d<b;d++){if(h[d]!=m){h[d].hide()}}var f=j.down(".window");f.style.display="none";var k=f.getLayout().get("height");f.style.height="auto";var a=f.getLayout().get("height");f.style.height=a+"px";f.style.display=null;for(var d=0,b=h.length;d<b;d++){h[d].setStyle({display:""})}}else{$super(g)}}});MaxPreps.UI.Wall=Class.create({initialize:function(a){this.options=a;document.observe("dom:loaded",this.documentLoaded.bind(this))},documentLoaded:function(a){var b=this.wallElement=$$(".wall-items")[0];this.loadMoreItemsElement=null;this.loadMoreItemsElementOffsetTop=-1;this.bindedLoadMoreItemsLoadComplete=this.loadMoreItemsLoadComplete.bind(this);this.prepLoadMoreItems();this.bindedScroll=this.scroll.bind(this);Event.observe(window,"scroll",this.bindedScroll)},prepLoadMoreItems:function(){var a=this.wallElement.select("> :last-child");if(a!=null&&a.length>0){a=a[0];if(a.readAttribute("data-last-item")!=="1"){this.loadMoreItemsElement=a;this.loadMoreItemsElementOffsetTop=a.cumulativeOffset().top-500}}},loadMoreItemsLoadComplete:function(b){if(b.status!==200||b.responseJSON==null){}var f=b.responseJSON;if(!f.success){}var c=this.options;if(window._gaq!=null&&c.googleEventCategory&&c.googleEventAction){_gaq.push(["_trackEvent",c.googleEventCategory,c.googleEventAction,c.googleEventLabel])}var h=this.wallElement,g=new Element("div");g.innerHTML=f.html;var e=g.select(".wall-items > li");if(e==null||e.length==0){Event.stopObserving(window,"scroll",this.bindedScroll);return}for(var d=0,a=e.length;d<a;d++){h.appendChild(e[d])}this.prepLoadMoreItems()},scroll:function(c){var a=this.loadMoreItemsElement,b=this.loadMoreItemsElementOffsetTop;if(b>-1&&document.viewport.getScrollOffsets().top+document.viewport.getHeight()>this.loadMoreItemsElementOffsetTop){var d=Object.clone(this.options.params);d.nextItemIndex=parseInt(this.loadMoreItemsElement.readAttribute("data-index"))+1;d.renderingDevice=window.location.href.indexOf("/m/")>-1?"mobile":"desktop";this.loadMoreItemsElement=null;this.loadMoreItemsElementOffsetTop=-1;new Ajax.Request(this.options.url,{onComplete:this.bindedLoadMoreItemsLoadComplete,parameters:d,method:"GET"})}}});